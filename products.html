<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>√úr√ºn Y√∂netimi</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<link rel="stylesheet" href="css/bootstrap.css">
	<link rel="stylesheet" href="css/style.css">
	
	<style>
		* { box-sizing: border-box; }
		body {
			margin: 0;
			padding: 0;
			font-family: "Montserrat", Arial, sans-serif;
			background: linear-gradient(135deg, #6366f1 0%, #4f46e5 25%, #4338ca 50%, #3730a3 75%, #312e81 100%);
			background-size: 400% 400%;
			animation: gradientShift 15s ease infinite, fadeIn 0.4s ease-in;
			min-height: 100vh;
		}
		
		@keyframes gradientShift {
			0% { background-position: 0% 50%; }
			50% { background-position: 100% 50%; }
			100% { background-position: 0% 50%; }
		}
		
		@keyframes fadeIn {
			from {
				opacity: 0;
				transform: translateY(20px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}
		
		/* Ge√ßi≈ü Overlay */
		.page-transition-overlay {
			position: fixed !important;
			top: 0 !important;
			left: 0 !important;
			right: 0 !important;
			bottom: 0 !important;
			width: 100vw !important;
			height: 100vh !important;
			background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
			z-index: 99999 !important;
			opacity: 0;
			pointer-events: none;
			transition: opacity 0.3s ease-out;
			display: flex !important;
			align-items: center !important;
			justify-content: center !important;
			margin: 0 !important;
			padding: 0 !important;
		}
		
		.page-transition-overlay.hide {
			opacity: 0;
			pointer-events: none;
		}
		
		.page-transition-overlay.show {
			opacity: 1;
			pointer-events: all;
		}
		
		.page-transition-overlay .spinner {
			width: 60px;
			height: 60px;
			border: 4px solid rgba(255, 255, 255, 0.3);
			border-top-color: #fff;
			border-radius: 50%;
			animation: spin 0.8s linear infinite;
			margin: 0 auto;
			flex-shrink: 0;
		}
		
		@keyframes spin {
			to { transform: rotate(360deg); }
		}
		
		.product-header {
			background: rgba(255, 255, 255, 0.15);
			backdrop-filter: blur(20px);
			-webkit-backdrop-filter: blur(20px);
			color: #fff;
			padding: 24px 32px;
			box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1),
			            0 0 0 1px rgba(255, 255, 255, 0.2) inset;
			border-bottom: 2px solid rgba(255, 255, 255, 0.1);
			position: sticky;
			top: 0;
			z-index: 100;
			position: relative;
			overflow: hidden;
		}
		
		.product-header::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
			animation: shimmer 3s infinite;
		}
		
		@keyframes shimmer {
			0% { left: -100%; }
			100% { left: 100%; }
		}
		
		.product-header-content {
			max-width: 1400px;
			margin: 0 auto;
			display: flex;
			justify-content: space-between;
			align-items: center;
			flex-wrap: wrap;
			gap: 20px;
			position: relative;
			z-index: 1;
		}
		
		.product-header h1 {
			margin: 0;
			font-size: 32px;
			font-weight: 700;
			display: flex;
			align-items: center;
			gap: 14px;
			background: linear-gradient(135deg, #fff 0%, rgba(255, 255, 255, 0.8) 100%);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
			text-shadow: 0 2px 10px rgba(255, 255, 255, 0.3);
			letter-spacing: -0.5px;
		}
		
		.btn-back {
			background: rgba(255, 255, 255, 0.2);
			color: #fff;
			padding: 12px 24px;
			border: 1.5px solid rgba(255, 255, 255, 0.3);
			border-radius: 12px;
			text-decoration: none;
			font-size: 14px;
			font-weight: 600;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			display: inline-flex;
			align-items: center;
			gap: 8px;
			backdrop-filter: blur(10px);
			-webkit-backdrop-filter: blur(10px);
			box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1),
			            inset 0 1px 0 rgba(255, 255, 255, 0.2);
			position: relative;
			overflow: hidden;
		}
		
		.btn-back::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
			transition: left 0.5s ease;
		}
		
		.btn-back:hover::before {
			left: 100%;
		}
		
		.btn-back:hover {
			background: rgba(255, 255, 255, 0.3);
			transform: translateY(-2px) scale(1.02);
			box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15),
			            inset 0 1px 0 rgba(255, 255, 255, 0.3);
			border-color: rgba(255, 255, 255, 0.5);
		}
		
		.product-container {
			max-width: 1400px;
			margin: 0 auto;
			padding: 30px 20px;
		}
		
		.btn-admin {
			background: linear-gradient(135deg, #7c5dff 0%, #6247ff 50%, #4f46e5 100%);
			color: #fff;
			padding: 12px 30px;
			border: none;
			border-radius: 12px;
			font-size: 16px;
			font-weight: 600;
			cursor: pointer;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			box-shadow: 0 8px 24px rgba(124, 93, 255, 0.35),
			            inset 0 1px 0 rgba(255, 255, 255, 0.2);
			position: relative;
			overflow: hidden;
		}
		
		.btn-admin::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
			transition: left 0.5s ease;
		}
		
		.btn-admin:hover::before {
			left: 100%;
		}
		
		.btn-admin:hover {
			transform: translateY(-2px) scale(1.02);
			box-shadow: 0 12px 32px rgba(124, 93, 255, 0.45),
			            inset 0 1px 0 rgba(255, 255, 255, 0.3);
		}
		
		.btn-admin:active {
			transform: translateY(0) scale(0.98);
		}
		
		.product-card {
			background: rgba(255, 255, 255, 0.15);
			backdrop-filter: blur(20px);
			-webkit-backdrop-filter: blur(20px);
			border-radius: 20px;
			padding: 30px;
			margin-bottom: 30px;
			box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1),
			            0 0 0 1px rgba(255, 255, 255, 0.2) inset;
			border: 1.5px solid rgba(255, 255, 255, 0.2);
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
		}
		
		.product-card:hover {
			transform: translateY(-4px);
			box-shadow: 0 16px 48px rgba(0, 0, 0, 0.15),
			            0 0 0 1px rgba(255, 255, 255, 0.3) inset;
			border-color: rgba(255, 255, 255, 0.4);
		}
		
		.product-list {
			display: grid;
			gap: 20px;
			margin-top: 20px;
		}
		
		.product-item {
			background: rgba(255, 255, 255, 0.2);
			backdrop-filter: blur(10px);
			-webkit-backdrop-filter: blur(10px);
			border: 1.5px solid rgba(255, 255, 255, 0.2);
			border-radius: 12px;
			padding: 20px;
			display: flex;
			justify-content: space-between;
			align-items: center;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08),
			            inset 0 1px 0 rgba(255, 255, 255, 0.1);
		}
		
		.product-item:hover {
			border-color: rgba(124, 93, 255, 0.4);
			box-shadow: 0 8px 24px rgba(124, 93, 255, 0.2),
			            inset 0 1px 0 rgba(255, 255, 255, 0.2);
			transform: translateY(-2px);
			background: rgba(255, 255, 255, 0.25);
		}
		
		.product-info h3 {
			margin: 0 0 8px 0;
			font-size: 18px;
			color: #1a1a1a;
		}
		
		.product-info p {
			margin: 4px 0;
			font-size: 14px;
			color: #6b7280;
		}
		
		.product-actions {
			display: flex;
			gap: 10px;
		}
		
		.btn-edit {
			background: linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%);
			color: #fff;
			padding: 10px 20px;
			border: none;
			border-radius: 10px;
			cursor: pointer;
			font-size: 14px;
			font-weight: 600;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			box-shadow: 0 4px 16px rgba(16, 185, 129, 0.3),
			            inset 0 1px 0 rgba(255, 255, 255, 0.2);
			position: relative;
			overflow: hidden;
		}
		
		.btn-edit::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
			transition: left 0.5s ease;
		}
		
		.btn-edit:hover::before {
			left: 100%;
		}
		
		.btn-edit:hover {
			transform: translateY(-2px) scale(1.05);
			box-shadow: 0 8px 24px rgba(16, 185, 129, 0.4),
			            inset 0 1px 0 rgba(255, 255, 255, 0.3);
		}
		
		.btn-delete {
			background: linear-gradient(135deg, #ef4444 0%, #dc2626 50%, #b91c1c 100%);
			color: #fff;
			padding: 10px 20px;
			border: none;
			border-radius: 10px;
			cursor: pointer;
			font-size: 14px;
			font-weight: 600;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			box-shadow: 0 4px 16px rgba(239, 68, 68, 0.3),
			            inset 0 1px 0 rgba(255, 255, 255, 0.2);
			position: relative;
			overflow: hidden;
		}
		
		.btn-delete::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
			transition: left 0.5s ease;
		}
		
		.btn-delete:hover::before {
			left: 100%;
		}
		
		.btn-delete:hover {
			transform: translateY(-2px) scale(1.05);
			box-shadow: 0 8px 24px rgba(239, 68, 68, 0.4),
			            inset 0 1px 0 rgba(255, 255, 255, 0.3);
		}
		
		/* Modern Popup Modal */
		.popup-modal-overlay {
			position: fixed !important;
			top: 0 !important;
			left: 0 !important;
			right: 0 !important;
			bottom: 0 !important;
			background: rgba(0, 0, 0, 0.6);
			backdrop-filter: blur(8px);
			-webkit-backdrop-filter: blur(8px);
			z-index: 99999 !important;
			display: none;
			align-items: center;
			justify-content: center;
			padding: 20px;
			animation: fadeIn 0.2s ease-out;
		}
		
		.popup-modal-overlay.show {
			display: flex;
		}
		
		@keyframes fadeIn {
			from { opacity: 0; }
			to { opacity: 1; }
		}
		
		.popup-modal {
			background: rgba(255, 255, 255, 0.15);
			backdrop-filter: blur(24px);
			-webkit-backdrop-filter: blur(24px);
			border-radius: 24px;
			width: 100%;
			max-width: 450px;
			box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3),
			            0 0 0 1px rgba(255, 255, 255, 0.2) inset;
			border: 1.5px solid rgba(255, 255, 255, 0.2);
			overflow: hidden;
			animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			transform-origin: center;
			position: relative;
			margin: auto;
		}
		
		@keyframes slideUp {
			from {
				transform: translateY(30px) scale(0.95);
				opacity: 0;
			}
			to {
				transform: translateY(0) scale(1);
				opacity: 1;
			}
		}
		
		.popup-modal-header {
			padding: 24px 30px 20px;
			background: linear-gradient(135deg, #7c5dff 0%, #6247ff 50%, #4f46e5 100%);
			color: #fff;
			display: flex;
			align-items: center;
			justify-content: space-between;
			gap: 15px;
			position: relative;
			overflow: hidden;
		}
		
		.popup-modal-header::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			height: 2px;
			background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
		}
		
		.popup-modal-header h3 {
			margin: 0;
			font-size: 20px;
			font-weight: 700;
			display: flex;
			align-items: center;
			gap: 10px;
			text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
		}
		
		.popup-modal-header .popup-icon {
			font-size: 24px;
			width: 36px;
			height: 36px;
			display: flex;
			align-items: center;
			justify-content: center;
			background: rgba(255, 255, 255, 0.2);
			backdrop-filter: blur(10px);
			-webkit-backdrop-filter: blur(10px);
			border-radius: 10px;
			border: 1px solid rgba(255, 255, 255, 0.3);
		}
		
		.popup-modal-body {
			padding: 30px;
			color: #fff;
			font-size: 15px;
			line-height: 1.6;
			background: rgba(255, 255, 255, 0.1);
		}
		
		.popup-modal-body p {
			margin: 0 0 15px 0;
			color: #fff;
		}
		
		.popup-modal-body strong {
			color: rgba(255, 255, 255, 0.9);
			font-weight: 600;
		}
		
		.popup-modal-footer {
			padding: 20px 30px;
			background: rgba(255, 255, 255, 0.1);
			backdrop-filter: blur(10px);
			-webkit-backdrop-filter: blur(10px);
			display: flex;
			justify-content: flex-end;
			gap: 12px;
			border-top: 1px solid rgba(255, 255, 255, 0.2);
		}
		
		.popup-btn {
			padding: 12px 24px;
			border: none;
			border-radius: 12px;
			font-size: 15px;
			font-weight: 600;
			cursor: pointer;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			min-width: 100px;
			display: inline-flex;
			align-items: center;
			justify-content: center;
			gap: 8px;
			position: relative;
			overflow: hidden;
		}
		
		.popup-btn::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
			transition: left 0.5s ease;
		}
		
		.popup-btn:hover::before {
			left: 100%;
		}
		
		.popup-btn-primary {
			background: linear-gradient(135deg, #7c5dff 0%, #6247ff 50%, #4f46e5 100%);
			color: #fff;
			box-shadow: 0 8px 24px rgba(124, 93, 255, 0.35),
			            inset 0 1px 0 rgba(255, 255, 255, 0.2);
		}
		
		.popup-btn-primary:hover {
			transform: translateY(-2px) scale(1.02);
			box-shadow: 0 12px 32px rgba(124, 93, 255, 0.45),
			            inset 0 1px 0 rgba(255, 255, 255, 0.3);
		}
		
		.popup-btn-secondary {
			background: rgba(255, 255, 255, 0.2);
			backdrop-filter: blur(10px);
			-webkit-backdrop-filter: blur(10px);
			color: #1a1a1a;
			border: 1.5px solid rgba(255, 255, 255, 0.3);
			box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1),
			            inset 0 1px 0 rgba(255, 255, 255, 0.2);
		}
		
		.popup-btn-secondary:hover {
			background: rgba(255, 255, 255, 0.3);
			border-color: rgba(255, 255, 255, 0.5);
			transform: translateY(-2px) scale(1.02);
		}
		
		.popup-btn-danger {
			background: linear-gradient(135deg, #ef4444 0%, #dc2626 50%, #b91c1c 100%);
			color: #fff;
			box-shadow: 0 8px 24px rgba(239, 68, 68, 0.35),
			            inset 0 1px 0 rgba(255, 255, 255, 0.2);
		}
		
		.popup-btn-danger:hover {
			transform: translateY(-2px) scale(1.02);
			box-shadow: 0 12px 32px rgba(239, 68, 68, 0.45),
			            inset 0 1px 0 rgba(255, 255, 255, 0.3);
		}
		
		.popup-btn-success {
			background: linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%);
			color: #fff;
			box-shadow: 0 8px 24px rgba(16, 185, 129, 0.35),
			            inset 0 1px 0 rgba(255, 255, 255, 0.2);
		}
		
		.popup-btn-success:hover {
			transform: translateY(-2px) scale(1.02);
			box-shadow: 0 12px 32px rgba(16, 185, 129, 0.45),
			            inset 0 1px 0 rgba(255, 255, 255, 0.3);
		}
		
		/* Image Upload Container */
		.image-upload-container {
			display: flex;
			flex-direction: column;
			gap: 15px;
			padding: 20px;
			background: rgba(255, 255, 255, 0.1);
			backdrop-filter: blur(10px);
			-webkit-backdrop-filter: blur(10px);
			border-radius: 16px;
			border: 1.5px solid rgba(255, 255, 255, 0.2);
			box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08),
			            inset 0 1px 0 rgba(255, 255, 255, 0.1);
		}
		
		.upload-buttons-row {
			display: flex;
			gap: 12px;
			align-items: center;
			flex-wrap: wrap;
		}
		
		.btn-upload, .btn-url-add {
			white-space: nowrap;
			padding: 12px 24px;
			background: linear-gradient(135deg, #7c5dff 0%, #6247ff 50%, #4f46e5 100%);
			color: #fff;
			border: none;
			border-radius: 12px;
			font-size: 14px;
			font-weight: 600;
			cursor: pointer;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			box-shadow: 0 4px 16px rgba(124, 93, 255, 0.3),
			            inset 0 1px 0 rgba(255, 255, 255, 0.2);
			position: relative;
			overflow: hidden;
		}
		
		.btn-upload::before, .btn-url-add::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
			transition: left 0.5s ease;
		}
		
		.btn-upload:hover::before, .btn-url-add:hover::before {
			left: 100%;
		}
		
		.btn-upload:hover, .btn-url-add:hover {
			transform: translateY(-2px) scale(1.02);
			box-shadow: 0 8px 24px rgba(124, 93, 255, 0.4),
			            inset 0 1px 0 rgba(255, 255, 255, 0.3);
		}
		
		.url-input {
			width: 100%;
			padding: 14px 18px;
			border: 2px solid rgba(124, 93, 255, 0.2);
			border-radius: 12px;
			font-size: 14px;
			background: rgba(255, 255, 255, 0.95);
			backdrop-filter: blur(10px);
			-webkit-backdrop-filter: blur(10px);
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
		}
		
		.url-input:focus {
			outline: none;
			border-color: #7c5dff;
			box-shadow: 0 0 0 4px rgba(124, 93, 255, 0.1),
			           0 4px 16px rgba(124, 93, 255, 0.15);
			background: rgba(255, 255, 255, 1);
		}
		
		/* Mobil i√ßin optimize */
		@media (max-width: 768px) {
			.product-header {
				padding: 16px 20px;
			}
			.product-header h1 { 
				font-size: 22px; 
			}
			.product-container { 
				padding: 20px 15px; 
			}
			.btn-back {
				padding: 10px 16px;
				font-size: 13px;
			}
			.product-item {
				flex-direction: column;
				align-items: flex-start;
				gap: 15px;
			}
			
			.popup-modal {
				max-width: 90%;
				margin: 20px;
			}
			
			.popup-modal-header {
				padding: 20px 24px 16px;
			}
			
			.popup-modal-header h3 {
				font-size: 18px;
			}
			
			.popup-modal-body {
				padding: 24px;
				font-size: 14px;
			}
			
			.popup-modal-footer {
				padding: 16px 24px;
				flex-direction: column-reverse;
			}
			
			.popup-btn {
				width: 100%;
			}
		}
		
		/* Modal Stilleri */
		.admin-modal-overlay {
			position: fixed;
			inset: 0;
			background: rgba(0, 0, 0, 0.6);
			backdrop-filter: blur(8px);
			-webkit-backdrop-filter: blur(8px);
			z-index: 10000;
			display: flex;
			align-items: center;
			justify-content: center;
			padding: 20px;
			overflow-y: auto;
			overflow-x: hidden;
			animation: fadeIn 0.2s ease-out;
		}
		
		.admin-modal {
			background: rgba(255, 255, 255, 0.15);
			backdrop-filter: blur(24px);
			-webkit-backdrop-filter: blur(24px);
			border-radius: 24px;
			width: 100%;
			max-width: 900px;
			max-height: 90vh;
			box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3),
			            0 0 0 1px rgba(255, 255, 255, 0.2) inset;
			border: 1.5px solid rgba(255, 255, 255, 0.2);
			display: flex;
			flex-direction: column;
			overflow: hidden;
			overflow-x: hidden;
			animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
		}
		
		.admin-modal-header {
			padding: 24px 30px;
			border-bottom: 1px solid rgba(255, 255, 255, 0.2);
			display: flex;
			justify-content: space-between;
			align-items: center;
			background: linear-gradient(135deg, #7c5dff 0%, #6247ff 50%, #4f46e5 100%);
			color: #fff;
			position: relative;
			overflow: hidden;
		}
		
		.admin-modal-header::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			height: 2px;
			background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
		}
		
		.admin-modal-header h2 {
			margin: 0;
			font-size: 24px;
			color: #fff;
			font-weight: 700;
			text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
		}
		
		.admin-modal-close {
			background: rgba(255, 255, 255, 0.2);
			backdrop-filter: blur(10px);
			-webkit-backdrop-filter: blur(10px);
			border: 1px solid rgba(255, 255, 255, 0.3);
			color: #fff;
			font-size: 28px;
			width: 44px;
			height: 44px;
			border-radius: 50%;
			cursor: pointer;
			display: flex;
			align-items: center;
			justify-content: center;
			line-height: 1;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
		}
		
		.admin-modal-close:hover {
			background: rgba(255, 255, 255, 0.3);
			transform: scale(1.1) rotate(90deg);
			box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
		}
		
		.admin-modal-body {
			padding: 30px;
			overflow-y: auto;
			overflow-x: hidden;
			flex: 1;
			background: rgba(255, 255, 255, 0.1);
			box-sizing: border-box;
		}
		
		@media (max-width: 768px) {
			.admin-modal-body {
				padding: 20px;
			}
		}
		
		@media (max-width: 480px) {
			.admin-modal-body {
				padding: 16px;
			}
		}
		
		.admin-form-group {
			margin-bottom: 20px;
		}
		
		.admin-form-group label {
			display: block;
			margin-bottom: 8px;
			font-weight: 600;
			color: #fff;
			font-size: 14px;
			text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
		}
		
		.admin-form-group input,
		.admin-form-group textarea {
			width: 100%;
			padding: 14px 18px;
			border: 2px solid rgba(124, 93, 255, 0.3);
			border-radius: 12px;
			font-size: 15px;
			font-family: "Montserrat", Arial, sans-serif;
			font-weight: 500;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			background: rgba(255, 255, 255, 0.98);
			backdrop-filter: blur(10px);
			-webkit-backdrop-filter: blur(10px);
			color: #1a1a1a !important;
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08),
			            inset 0 1px 0 rgba(255, 255, 255, 0.1);
		}
		
		.admin-form-group select {
			width: 100%;
			padding: 14px 50px 14px 18px;
			border: 2px solid rgba(124, 93, 255, 0.3);
			border-radius: 12px;
			font-size: 15px;
			font-family: "Montserrat", Arial, sans-serif;
			font-weight: 500;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			background: rgba(255, 255, 255, 0.98);
			backdrop-filter: blur(10px);
			-webkit-backdrop-filter: blur(10px);
			color: #1a1a1a !important;
			cursor: pointer;
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08),
			            inset 0 1px 0 rgba(255, 255, 255, 0.1);
			background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 14 14'%3E%3Cpath fill='%237c5dff' d='M7 10L2 5h10z'/%3E%3C/svg%3E");
			background-repeat: no-repeat;
			background-position: right 16px center;
			background-size: 14px;
			appearance: none;
			-webkit-appearance: none;
			-moz-appearance: none;
		}
		
		.admin-form-group select:not([value=""]) {
			color: #1a1a1a !important;
		}
		
		.admin-form-group select:hover {
			border-color: rgba(124, 93, 255, 0.5);
			background-color: rgba(255, 255, 255, 1);
			box-shadow: 0 4px 12px rgba(124, 93, 255, 0.15),
			           0 0 0 1px rgba(124, 93, 255, 0.2) inset;
			background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 14 14'%3E%3Cpath fill='%236247ff' d='M7 10L2 5h10z'/%3E%3C/svg%3E");
			background-repeat: no-repeat;
			background-position: right 16px center;
			background-size: 14px;
			color: #1a1a1a !important;
			transform: translateY(-1px);
		}
		
		.admin-form-group input:focus,
		.admin-form-group textarea:focus {
			outline: none;
			border-color: #7c5dff;
			box-shadow: 0 0 0 4px rgba(124, 93, 255, 0.15),
			           0 4px 16px rgba(124, 93, 255, 0.2),
			           0 0 0 1px rgba(124, 93, 255, 0.3) inset;
			background-color: rgba(255, 255, 255, 1);
			transform: translateY(-1px);
		}
		
		.admin-form-group select:focus {
			outline: none;
			border-color: #7c5dff;
			box-shadow: 0 0 0 4px rgba(124, 93, 255, 0.15),
			           0 4px 16px rgba(124, 93, 255, 0.2),
			           0 0 0 1px rgba(124, 93, 255, 0.3) inset;
			background-color: rgba(255, 255, 255, 1);
			background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 14 14'%3E%3Cpath fill='%234f46e5' d='M7 10L2 5h10z'/%3E%3C/svg%3E");
			background-repeat: no-repeat;
			background-position: right 16px center;
			background-size: 14px;
			color: #1a1a1a !important;
			transform: translateY(-1px);
		}
		
		.admin-form-group select option {
			color: #1a1a1a !important;
		}
		
		.admin-form-group input::placeholder,
		.admin-form-group textarea::placeholder {
			color: rgba(107, 114, 128, 0.6);
		}
		
		.admin-form-group textarea {
			min-height: 100px;
			resize: vertical;
		}
		
		.btn-admin-secondary {
			background: linear-gradient(135deg, #6b7280 0%, #4b5563 50%, #374151 100%);
			box-shadow: 0 8px 24px rgba(107, 114, 128, 0.35),
			            inset 0 1px 0 rgba(255, 255, 255, 0.2);
		}
		
		.btn-admin-secondary:hover {
			box-shadow: 0 12px 32px rgba(107, 114, 128, 0.45),
			            inset 0 1px 0 rgba(255, 255, 255, 0.3);
		}
		
		.lang-tabs {
			display: flex;
			flex-wrap: wrap;
			gap: 8px;
			margin-bottom: 20px;
		}
		
		.lang-tab {
			padding: 10px 24px;
			background: rgba(255, 255, 255, 0.2);
			backdrop-filter: blur(10px);
			-webkit-backdrop-filter: blur(10px);
			border: 1.5px solid rgba(255, 255, 255, 0.2);
			border-radius: 10px;
			cursor: pointer;
			font-weight: 600;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			color: #1a1a1a;
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08),
			            inset 0 1px 0 rgba(255, 255, 255, 0.1);
			white-space: nowrap;
			flex: 1 1 auto;
			min-width: 0;
		}
		
		@media (max-width: 768px) {
			.lang-tabs {
				gap: 6px;
				margin-bottom: 16px;
			}
			
			.lang-tab {
				padding: 8px 16px;
				font-size: 13px;
				flex: 1 1 calc(50% - 3px);
				min-width: calc(50% - 3px);
			}
		}
		
		@media (max-width: 480px) {
			.lang-tabs {
				gap: 6px;
				margin-bottom: 14px;
			}
			
			.lang-tab {
				padding: 8px 12px;
				font-size: 12px;
				flex: 1 1 calc(50% - 3px);
				min-width: calc(50% - 3px);
			}
		}
		
		.lang-tab:hover {
			background: rgba(255, 255, 255, 0.3);
			border-color: rgba(255, 255, 255, 0.4);
			transform: translateY(-2px);
		}
		
		.lang-tab.active {
			background: linear-gradient(135deg, #7c5dff 0%, #6247ff 50%, #4f46e5 100%);
			color: #fff;
			border-color: rgba(255, 255, 255, 0.3);
			box-shadow: 0 8px 24px rgba(124, 93, 255, 0.35),
			            inset 0 1px 0 rgba(255, 255, 255, 0.2);
			color: #fff;
		}
		
		.lang-content {
			display: none;
		}
		
		.lang-content.active {
			display: block;
		}
		
		/* Main Container */
		.product-container {
			max-width: 1400px;
			margin: 0 auto;
			padding: 30px 20px;
			display: flex;
			gap: 30px;
			align-items: flex-start;
		}
		
		/* Sol Panel - Sidebar */
		.product-sidebar {
			width: 320px;
			background: rgba(255, 255, 255, 0.15);
			backdrop-filter: blur(20px);
			-webkit-backdrop-filter: blur(20px);
			border-radius: 20px;
			padding: 25px;
			box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1),
			            0 0 0 1px rgba(255, 255, 255, 0.2) inset;
			border: 1.5px solid rgba(255, 255, 255, 0.2);
			position: sticky;
			top: 100px;
			max-height: calc(100vh - 120px);
			overflow-y: auto;
			z-index: 10;
		}
		
		.product-sidebar-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 20px;
			padding-bottom: 15px;
			border-bottom: 2px solid rgba(255, 255, 255, 0.2);
		}
		
		.product-sidebar-header h2 {
			margin: 0;
			font-size: 20px;
			color: #fff;
			text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
		}
		
		.sidebar-toggle {
			background: linear-gradient(135deg, #7c5dff 0%, #6247ff 50%, #4f46e5 100%);
			color: #fff;
			border: none;
			border-radius: 10px;
			padding: 10px 16px;
			cursor: pointer;
			font-size: 18px;
			font-weight: 600;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			box-shadow: 0 4px 16px rgba(124, 93, 255, 0.3),
			            inset 0 1px 0 rgba(255, 255, 255, 0.2);
			min-width: 40px;
			height: 40px;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		
		.sidebar-toggle:hover {
			transform: translateY(-2px) scale(1.02);
			box-shadow: 0 8px 24px rgba(124, 93, 255, 0.4),
			            inset 0 1px 0 rgba(255, 255, 255, 0.3);
		}
		
		/* Desktop'ta sidebar header'daki X butonunu gizle */
		.product-sidebar-header .sidebar-toggle {
			display: none;
		}
		
		/* Kategori Filtreleri */
		.filter-section {
			margin-bottom: 25px;
		}
		
		.filter-section h3 {
			margin: 0 0 12px 0;
			font-size: 14px;
			font-weight: 600;
			color: #fff;
			text-transform: uppercase;
			letter-spacing: 0.5px;
			text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
		}
		
		.filter-checkbox-container {
			max-height: 250px;
			overflow-y: auto;
			border: 1.5px solid rgba(255, 255, 255, 0.2);
			border-radius: 12px;
			padding: 12px;
			background: rgba(255, 255, 255, 0.1);
			backdrop-filter: blur(10px);
			-webkit-backdrop-filter: blur(10px);
		}
		
		.filter-checkbox-item {
			display: flex;
			align-items: center;
			padding: 12px 14px;
			margin-bottom: 8px;
			background: rgba(255, 255, 255, 0.2);
			backdrop-filter: blur(10px);
			-webkit-backdrop-filter: blur(10px);
			border-radius: 12px;
			cursor: pointer;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			border: 1.5px solid rgba(255, 255, 255, 0.2);
			position: relative;
		}
		
		.filter-checkbox-item:hover {
			background: rgba(255, 255, 255, 0.3);
			border-color: rgba(124, 93, 255, 0.4);
			transform: translateX(4px);
			box-shadow: 0 4px 16px rgba(124, 93, 255, 0.2);
		}
		
		.filter-checkbox-item input[type="checkbox"] {
			position: absolute;
			opacity: 0;
			cursor: pointer;
			pointer-events: none;
			width: 0;
			height: 0;
			margin: 0;
			padding: 0;
			z-index: -1;
		}
		
		/* Custom Checkbox */
		.checkbox-custom {
			position: relative;
			display: inline-block;
			width: 22px;
			height: 22px;
			margin-right: 12px;
			flex-shrink: 0;
		}
		
		.checkbox-custom .checkmark {
			position: absolute;
			top: 0;
			left: 0;
			height: 22px;
			width: 22px;
			background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
			border: 2px solid #d1d5db;
			border-radius: 6px;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
		}
		
		.filter-checkbox-item:hover .checkbox-custom .checkmark {
			border-color: #7c5dff;
			background: linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%);
		}
		
		.filter-checkbox-item input:checked ~ .checkbox-custom .checkmark {
			background: linear-gradient(135deg, #7c5dff 0%, #6247ff 100%);
			border-color: #7c5dff;
			box-shadow: 0 4px 12px rgba(124, 93, 255, 0.3);
		}
		
		.checkbox-custom .checkmark:after {
			content: "";
			position: absolute;
			display: none;
			left: 7px;
			top: 3px;
			width: 5px;
			height: 10px;
			border: solid white;
			border-width: 0 2px 2px 0;
			transform: rotate(45deg);
		}
		
		.filter-checkbox-item input:checked ~ .checkbox-custom .checkmark:after {
			display: block;
		}
		
		.filter-checkbox-item label {
			margin: 0;
			cursor: pointer;
			font-size: 14px;
			color: rgba(255, 255, 255, 0.9);
			flex: 1;
			font-weight: 500;
			user-select: none;
			pointer-events: auto;
		}
		
		.filter-checkbox-item label.checkbox-custom {
			pointer-events: auto;
			cursor: pointer;
		}
		
		.filter-checkbox-item input:checked ~ label {
			color: #fff;
			font-weight: 600;
		}
		
		.filter-actions {
			display: flex;
			gap: 8px;
			margin-top: 12px;
		}
		
		.btn-filter {
			flex: 1;
			padding: 10px 16px;
			border: none;
			border-radius: 10px;
			font-size: 12px;
			font-weight: 600;
			cursor: pointer;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
		}
		
		.btn-filter-primary {
			background: linear-gradient(135deg, #7c5dff 0%, #6247ff 50%, #4f46e5 100%);
			color: #fff;
			box-shadow: 0 4px 16px rgba(124, 93, 255, 0.3),
			            inset 0 1px 0 rgba(255, 255, 255, 0.2);
		}
		
		.btn-filter-primary:hover {
			transform: translateY(-2px) scale(1.02);
			box-shadow: 0 8px 24px rgba(124, 93, 255, 0.4),
			            inset 0 1px 0 rgba(255, 255, 255, 0.3);
		}
		
		.btn-filter-secondary {
			background: linear-gradient(135deg, #6b7280 0%, #4b5563 50%, #374151 100%);
			color: #fff;
			box-shadow: 0 4px 16px rgba(107, 114, 128, 0.3),
			            inset 0 1px 0 rgba(255, 255, 255, 0.2);
		}
		
		.btn-filter-secondary:hover {
			transform: translateY(-2px) scale(1.02);
			box-shadow: 0 8px 24px rgba(107, 114, 128, 0.4),
			            inset 0 1px 0 rgba(255, 255, 255, 0.3);
		}
		
		.btn-filter-danger {
			background: linear-gradient(135deg, #ef4444 0%, #dc2626 50%, #b91c1c 100%);
			color: #fff;
			box-shadow: 0 4px 16px rgba(239, 68, 68, 0.3),
			            inset 0 1px 0 rgba(255, 255, 255, 0.2);
		}
		
		.btn-filter-danger:hover {
			transform: translateY(-2px) scale(1.02);
			box-shadow: 0 8px 24px rgba(239, 68, 68, 0.4),
			            inset 0 1px 0 rgba(255, 255, 255, 0.3);
		}
		
		/* Ana ƒ∞√ßerik */
		.product-main-content {
			flex: 1;
			min-width: 0;
		}
		
		/* Arama Input */
		.product-search-input {
			width: 100%;
			padding: 16px 20px;
			border: 1.5px solid rgba(255, 255, 255, 0.2);
			border-radius: 20px;
			font-size: 14px;
			background: rgba(255, 255, 255, 0.15);
			backdrop-filter: blur(20px);
			-webkit-backdrop-filter: blur(20px);
			color: rgba(255, 255, 255, 0.95);
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			font-weight: 500;
			box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1),
			            0 0 0 1px rgba(255, 255, 255, 0.2) inset;
			margin-bottom: 20px;
		}
		
		.product-search-input:hover {
			border-color: rgba(124, 93, 255, 0.4);
			background: rgba(255, 255, 255, 0.2);
			box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12),
			            0 0 0 1px rgba(255, 255, 255, 0.3) inset;
		}
		
		.product-search-input:focus {
			outline: none;
			border-color: #7c5dff;
			background: rgba(255, 255, 255, 0.25);
			box-shadow: 0 0 0 4px rgba(124, 93, 255, 0.15),
			           0 12px 40px rgba(124, 93, 255, 0.2),
			           0 0 0 1px rgba(124, 93, 255, 0.3) inset;
			color: rgba(255, 255, 255, 1);
		}
		
		.product-search-input::placeholder {
			color: rgba(255, 255, 255, 0.6);
			font-weight: 400;
		}
		
		/* Mobil g√∂r√ºn√ºm */
		@media (max-width: 768px) {
			.product-sidebar {
				position: fixed;
				top: 0;
				left: -100%;
				width: 320px;
				height: 100vh;
				max-height: 100vh;
				z-index: 10000;
				transition: left 0.3s ease;
				overflow-y: auto;
			}
			
			.product-sidebar.mobile-open {
				left: 0;
			}
			
			/* Mobilde sidebar header'daki X butonunu g√∂ster */
			.product-sidebar-header .sidebar-toggle {
				display: flex !important;
			}
			
			/* Mobilde ana i√ßerikteki toggle butonunu g√∂ster */
			#mobileSidebarToggle {
				display: block !important;
			}
			
			.product-main-content {
				width: 100%;
			}
			
			.product-header-content {
				flex-direction: column;
				align-items: flex-start;
				gap: 15px;
			}
			
			.product-search-input {
				width: 100% !important;
				margin-bottom: 15px;
			}
		}
		
		/* Custom select option styling */
		.admin-form-group select option {
			padding: 14px 18px;
			background: #fff;
			color: #1a1a1a !important;
			font-weight: 500;
			font-size: 15px;
			min-height: 44px;
			line-height: 1.5;
		}
		
		.admin-form-group select option:first-child {
			color: rgba(107, 114, 128, 0.7);
			font-style: italic;
		}
		
		.admin-form-group select option:hover {
			background: rgba(124, 93, 255, 0.1);
			color: #7c5dff;
		}
		
		.admin-form-group select option:checked,
		.admin-form-group select option:focus {
			background: linear-gradient(135deg, #7c5dff 0%, #6247ff 100%);
			color: #fff;
			font-weight: 600;
		}
		
		/* Category Dropdown Styles - Language dropdown gibi */
		.category-dropdown {
			position: relative;
			width: 100%;
		}
		
		.category-dropdown-trigger {
			display: inline-flex;
			align-items: center;
			justify-content: space-between;
			width: 100%;
			gap: 7px;
			border: none;
			border-radius: 999px;
			padding: 8px 12px 8px 14px;
			background: rgba(248, 250, 255, 0.8);
			color: #1f2937;
			font-size: 13px;
			font-weight: 600;
			cursor: pointer;
			box-shadow: 0 2px 12px rgba(124, 93, 255, 0.08),
			            inset 0 1px 0 rgba(255, 255, 255, 0.9);
			border: 1.5px solid rgba(124, 93, 255, 0.15);
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			position: relative;
			overflow: hidden;
		}
		
		.category-dropdown-trigger::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
			transition: left 0.5s ease;
		}
		
		.category-dropdown-trigger:hover {
			background: rgba(255, 255, 255, 0.95);
			box-shadow: 0 4px 16px rgba(124, 93, 255, 0.12),
			            inset 0 1px 0 rgba(255, 255, 255, 1);
			border-color: rgba(124, 93, 255, 0.25);
			transform: translateY(-1px);
		}
		
		.category-dropdown-trigger:hover::before {
			left: 100%;
		}
		
		.category-dropdown-label {
			flex: 1;
			text-align: left;
		}
		
		.category-dropdown-arrow {
			font-size: 10px;
			opacity: 0.6;
			transition: transform 0.3s ease, opacity 0.3s ease;
			margin-left: 2px;
		}
		
		.category-dropdown-trigger:hover .category-dropdown-arrow {
			opacity: 1;
		}
		
		.category-dropdown-menu {
			position: absolute;
			top: calc(100% + 8px);
			bottom: auto;
			left: 0;
			right: 0;
			background: rgba(255, 255, 255, 0.98);
			backdrop-filter: blur(24px);
			-webkit-backdrop-filter: blur(24px);
			border-radius: 16px;
			border: 1.5px solid rgba(124, 93, 255, 0.15);
			box-shadow: 0 20px 40px rgba(124, 93, 255, 0.15),
			           0 0 0 1px rgba(255, 255, 255, 0.8) inset;
			display: none;
			flex-direction: column;
			min-width: 100%;
			max-height: 400px;
			overflow-y: auto;
			overflow-x: hidden;
			padding: 8px;
			z-index: 100002 !important;
		}
		
		.category-dropdown-menu.open-up {
			top: auto;
			bottom: calc(100% + 8px);
		}
		
		.category-dropdown-menu.open {
			display: flex;
			animation: dropdownFadeIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
		}
		
		.category-dropdown-menu .category-item {
			padding: 10px 14px;
			text-align: left;
			display: inline-flex !important;
			align-items: center !important;
			gap: 8px;
			background: transparent !important;
			border: none !important;
			border-radius: 10px;
			color: #1f2937 !important;
			font-weight: 600 !important;
			font-size: 13px !important;
			letter-spacing: 0.2px;
			transition: all 0.2s ease;
			position: relative;
			cursor: pointer;
			width: 100%;
			justify-content: flex-start;
		}
		
		.category-dropdown-menu .category-item:hover {
			background: rgba(124, 93, 255, 0.08) !important;
			color: #7c5dff !important;
			transform: translateX(4px);
		}
		
		.category-dropdown-menu .category-item.active {
			background: linear-gradient(135deg, rgba(124, 93, 255, 0.15), rgba(100, 71, 255, 0.12)) !important;
			color: #7c5dff !important;
			font-weight: 700 !important;
		}
		
		.category-dropdown-menu .category-item.active::after {
			content: '‚úì';
			position: absolute;
			right: 12px;
			font-size: 12px;
			color: #7c5dff;
			font-weight: bold;
		}
		
		/* Kategori select'leri i√ßin label stil */
		#productModal .admin-form-group label {
			font-size: 15px;
			font-weight: 600;
			margin-bottom: 10px;
			display: block;
			color: rgba(255, 255, 255, 0.95);
			text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
		}
	</style>
</head>
<body>
	<!-- ≈ûifre Giri≈ü Ekranƒ± -->
	<div id="loginScreen" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(135deg, #6366f1 0%, #4f46e5 25%, #4338ca 50%, #3730a3 75%, #312e81 100%); background-size: 400% 400%; animation: gradientShift 15s ease infinite; z-index: 10000; display: flex; align-items: center; justify-content: center; padding: 20px;">
		<div style="background: rgba(255, 255, 255, 0.15); backdrop-filter: blur(24px); -webkit-backdrop-filter: blur(24px); padding: 50px 40px; border-radius: 24px; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.2) inset; max-width: 450px; width: 100%; border: 1.5px solid rgba(255, 255, 255, 0.2); position: relative; overflow: hidden;">
			<div style="position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, #6366f1, #4f46e5, #4338ca);"></div>
			<h2 style="margin: 0 0 30px 0; text-align: center; color: #fff; font-size: 28px; font-weight: 700; text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);">üîí √úr√ºn Y√∂netimi</h2>
			<div class="alert alert-error" id="loginError" style="display: none; margin-bottom: 20px; padding: 15px 20px; border-radius: 12px; background: rgba(254, 226, 226, 0.9); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); color: #991b1b; border: 1.5px solid rgba(239, 68, 68, 0.3); box-shadow: 0 4px 16px rgba(239, 68, 68, 0.15);"></div>
			<div style="margin-bottom:20px;">
				<label style="display: block; margin-bottom: 10px; font-weight: 600; color: rgba(255, 255, 255, 0.95); font-size: 14px;">≈ûifre</label>
				<input type="password" id="adminPassword" placeholder="Admin ≈üifresini gir..." style="width: 100%; padding: 14px 18px; border: 2px solid rgba(255, 255, 255, 0.2); border-radius: 12px; font-size: 16px; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); outline: none; transition: all 0.3s;">
			</div>
			<style>
				#adminPassword:focus {
					border-color: #6366f1 !important;
					box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1), 0 4px 16px rgba(99, 102, 241, 0.15) !important;
					background: rgba(255, 255, 255, 1) !important;
				}
			</style>
			<button onclick="checkPassword()" class="btn-admin" style="width: 100%; margin-top: 20px; padding: 16px 30px; font-size: 16px;">Giri≈ü Yap</button>
		</div>
	</div>

	<div id="pageContent" style="display: none;">
	<!-- Modern Popup Modal -->
	<div id="popupModal" class="popup-modal-overlay">
		<div class="popup-modal">
			<div class="popup-modal-header">
				<h3>
					<span class="popup-icon" id="popupIcon">‚Ñπ</span>
					<span id="popupTitle">Bilgi</span>
				</h3>
			</div>
			<div class="popup-modal-body">
				<p id="popupMessage"></p>
			</div>
			<div class="popup-modal-footer" id="popupFooter">
				<!-- Butonlar JavaScript ile eklenecek -->
			</div>
		</div>
	</div>
	
	<header class="product-header">
		<div class="product-header-content">
			<h1>üì¶ √úr√ºn Y√∂netimi</h1>
			<div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
				<a href="admin.html" class="btn-back">‚Üê Admin Paneli</a>
			</div>
		</div>
	</header>
	
	<!-- Main Container -->
	<div class="product-container">
		<!-- Sol Panel - Sidebar -->
		<aside class="product-sidebar" id="productSidebar">
			<div class="product-sidebar-header">
				<h2>üîç Filtreler</h2>
				<button class="sidebar-toggle" id="sidebarToggle" type="button">‚úï</button>
			</div>
			
			<!-- Ana Kategori Filtresi -->
			<div class="filter-section">
				<h3>Ana Kategoriler</h3>
				<div class="filter-checkbox-container" id="mainCategoryFilters">
					<p style="color: rgba(255, 255, 255, 0.7); text-align: center; padding: 20px;">Y√ºkleniyor...</p>
				</div>
				<div class="filter-actions">
					<button class="btn-filter btn-filter-primary" id="selectAllMain">T√ºm√ºn√º Se√ß</button>
					<button class="btn-filter btn-filter-secondary" id="deselectAllMain">Temizle</button>
				</div>
			</div>
			
			<!-- Alt Kategori Filtresi -->
			<div class="filter-section">
				<h3>Alt Kategoriler</h3>
				<div class="filter-checkbox-container" id="subCategoryFilters">
					<p style="color: rgba(255, 255, 255, 0.7); text-align: center; padding: 20px;">Ana kategori se√ßin</p>
				</div>
				<div class="filter-actions">
					<button class="btn-filter btn-filter-primary" id="selectAllSub">T√ºm√ºn√º Se√ß</button>
					<button class="btn-filter btn-filter-secondary" id="deselectAllSub">Temizle</button>
				</div>
			</div>
			
			<!-- Filtre Temizle -->
			<button class="btn-filter btn-filter-danger" id="resetFilters" style="width: 100%; margin-top: 20px;">Filtreleri Temizle</button>
		</aside>
		
		<!-- Ana ƒ∞√ßerik -->
		<main class="product-main-content">
			<!-- Mobil Sidebar Toggle -->
			<button class="sidebar-toggle" id="mobileSidebarToggle" type="button" style="margin-bottom: 20px; width: 100%; display: none;">‚ò∞ Filtreleri A√ß</button>
			
			<!-- Arama Input -->
			<input type="text" id="searchInput" class="product-search-input" placeholder="üîç √úr√ºn adƒ± veya SKU..." onkeyup="filterProducts()">
			
			<div class="product-card">
				<div style="display: flex; gap: 15px; flex-wrap: wrap; margin-bottom: 20px;">
					<button class="btn-admin" onclick="openAddProductModal()">‚ûï Yeni √úr√ºn Ekle</button>
					<button class="btn-admin" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);" onclick="saveToServer()">üíæ Sunucuya Kaydet</button>
				</div>
				
				<h2 style="margin: 20px 0 15px 0; font-size: 20px; color: rgba(255, 255, 255, 0.95); text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);">Mevcut √úr√ºnler</h2>
				
				<div id="productsList" class="product-list">
					<p style="color: rgba(255, 255, 255, 0.7); text-align: center; padding: 40px;">√úr√ºnler y√ºkleniyor...</p>
				</div>
			</div>
		</main>
	</div>
	
	<!-- √úr√ºn Ekleme/D√ºzenleme Modal -->
	<div id="productModal" class="admin-modal-overlay" style="display: none;">
		<div class="admin-modal" style="max-width: 800px; max-height: 90vh; overflow-y: auto; overflow-x: hidden;">
			<div class="admin-modal-header">
				<h2 id="productModalTitle">Yeni √úr√ºn Ekle</h2>
				<button type="button" class="admin-modal-close" onclick="closeProductModal()">&times;</button>
			</div>
			<div class="admin-modal-body">
				<form id="productForm">
					<input type="hidden" id="productIndex" value="-1">
					
					<!-- Kategoriler en √ºstte -->
					<div class="admin-form-group">
						<label>Ana Kategori</label>
						<div class="category-dropdown">
							<button type="button" class="category-dropdown-trigger" id="mainCategoryTrigger" aria-haspopup="true" aria-expanded="false">
								<span class="category-dropdown-label">Se√ßiniz...</span>
								<span class="category-dropdown-arrow">‚ñæ</span>
							</button>
							<div class="category-dropdown-menu" id="mainCategoryMenu" role="menu"></div>
							<input type="hidden" id="mainCategorySelect" required>
						</div>
					</div>
					
					<div class="admin-form-group">
						<label>Alt Kategori</label>
						<div class="category-dropdown">
							<button type="button" class="category-dropdown-trigger" id="subCategoryTrigger" aria-haspopup="true" aria-expanded="false">
								<span class="category-dropdown-label">Se√ßiniz...</span>
								<span class="category-dropdown-arrow">‚ñæ</span>
							</button>
							<div class="category-dropdown-menu" id="subCategoryMenu" role="menu"></div>
							<input type="hidden" id="subCategorySelect">
						</div>
					</div>
					
					<div class="lang-tabs">
						<button type="button" class="lang-tab active" onclick="switchLang('tr')">T√ºrk√ße</button>
						<button type="button" class="lang-tab" onclick="switchLang('en')">English</button>
						<button type="button" class="lang-tab" onclick="switchLang('ka')">·É•·Éê·É†·Éó·É£·Éö·Éò</button>
						<button type="button" class="lang-tab" onclick="switchLang('ru')">–†—É—Å—Å–∫–∏–π</button>
					</div>
					
					<div id="lang-tr" class="lang-content active">
						<div class="admin-form-group">
							<label>√úr√ºn Adƒ± (TR)</label>
							<input type="text" id="titleTr" required>
						</div>
						<div class="admin-form-group">
							<label>A√ßƒ±klama (TR)</label>
							<textarea id="descriptionTr" rows="4"></textarea>
						</div>
					</div>
					
					<div id="lang-en" class="lang-content">
						<div class="admin-form-group">
							<label>√úr√ºn Adƒ± (EN)</label>
							<input type="text" id="titleEn">
						</div>
						<div class="admin-form-group">
							<label>A√ßƒ±klama (EN)</label>
							<textarea id="descriptionEn" rows="4"></textarea>
						</div>
					</div>
					
					<div id="lang-ka" class="lang-content">
						<div class="admin-form-group">
							<label>√úr√ºn Adƒ± (KA)</label>
							<input type="text" id="titleKa">
						</div>
						<div class="admin-form-group">
							<label>A√ßƒ±klama (KA)</label>
							<textarea id="descriptionKa" rows="4"></textarea>
						</div>
					</div>
					
					<div id="lang-ru" class="lang-content">
						<div class="admin-form-group">
							<label>√úr√ºn Adƒ± (RU)</label>
							<input type="text" id="titleRu">
						</div>
						<div class="admin-form-group">
							<label>A√ßƒ±klama (RU)</label>
							<textarea id="descriptionRu" rows="4"></textarea>
						</div>
					</div>
					
					<div class="admin-form-group">
						<label>√úr√ºn G√∂rselleri</label>
						<div id="productImagesContainer" style="margin-bottom: 10px;">
							<!-- Resimler buraya eklenecek -->
						</div>
						<div class="image-upload-container">
							<input type="file" id="productImageFile" accept="image/*" multiple style="display: none;" onchange="uploadProductImages()">
							<div class="upload-buttons-row">
								<button type="button" id="uploadImageBtn" class="btn-admin btn-upload" onclick="document.getElementById('productImageFile').click()">üìÅ Bilgisayardan Y√ºkle</button>
								<button type="button" class="btn-admin btn-url-add" onclick="addProductImageUrl()">+ URL Ekle</button>
							</div>
							<input type="text" id="imageUrlInput" placeholder="Veya URL ekle" class="url-input">
						</div>
					</div>
					
					<div class="admin-form-group">
						<label>SKU</label>
						<input type="text" id="sku">
					</div>
					
					<div class="admin-form-group">
						<label>Stok</label>
						<input type="number" id="stock" min="0" value="0">
					</div>
					
					<div style="display: flex; gap: 10px; margin-top: 20px;">
						<button type="button" class="btn-admin" onclick="saveProduct()">Kaydet</button>
						<button type="button" class="btn-admin btn-admin-secondary" onclick="closeProductModal()">ƒ∞ptal</button>
					</div>
				</form>
			</div>
		</div>
	</div>
	
	<script src="js/jquery.min.js"></script>
	<script src="js/data-products.js"></script>
	<script>
		var productsData = [];
		var allProductsData = [];
		var categoriesData = null; // Kategoriler i√ßin
		var selectedMainCategories = [];
		var selectedSubCategories = [];
		
		// HTML escape (√∂nce tanƒ±mlanmalƒ±, diƒüer fonksiyonlar bunu kullanƒ±yor)
		function escapeHtml(text) {
			if (!text) return '';
			var map = {
				'&': '&amp;',
				'<': '&lt;',
				'>': '&gt;',
				'"': '&quot;',
				"'": '&#039;'
			};
			return text.toString().replace(/[&<>"']/g, function(m) { return map[m]; });
		}
		
		// Kategorileri y√ºkle
		function loadCategories() {
			// localStorage kullanƒ±mƒ± kaldƒ±rƒ±ldƒ± - artƒ±k sadece backend kullanƒ±lƒ±yor
			// Backend'den y√ºklenen veriler window.mainCategories'a atanƒ±yor
			if (typeof window.mainCategories !== 'undefined' && window.mainCategories.length > 0) {
				// mainCategories'deki subCategories'leri topla
				var allSubCategories = [];
				window.mainCategories.forEach(function(mainCat) {
					if (mainCat.subCategories && Array.isArray(mainCat.subCategories)) {
						mainCat.subCategories.forEach(function(subCat) {
							allSubCategories.push({
								mainCategoryId: mainCat.id || mainCat.slug,
								mainCategorySlug: mainCat.slug,
								title: subCat.title || {}
							});
						});
					}
				});
				
				categoriesData = {
					mainCategories: window.mainCategories,
					subCategories: allSubCategories
				};
			}
			
			// Ana kategori dropdown'ƒ±nƒ± doldur
			populateMainCategoryDropdown();
		}
		
		// Ana kategori dropdown'ƒ±nƒ± doldur
		function populateMainCategoryDropdown() {
			var $menu = $('#mainCategoryMenu');
			var $trigger = $('#mainCategoryTrigger');
			var $hiddenInput = $('#mainCategorySelect');
			
			if ($menu.length === 0) return; // Modal a√ßƒ±lmamƒ±≈üsa √ßƒ±k
			
			$menu.empty();
			
			if (!categoriesData || !categoriesData.mainCategories) {
				$menu.append('<button type="button" class="category-item" disabled>‚ö†Ô∏è Kategori bulunamadƒ±</button>');
				return;
			}
			
			// "Se√ßiniz..." se√ßeneƒüi
			$menu.append('<button type="button" class="category-item" data-value="">Se√ßiniz...</button>');
			
			categoriesData.mainCategories.forEach(function(cat) {
				var titleTr = cat.title ? (cat.title.tr || '') : '';
				var titleEn = cat.title ? (cat.title.en || '') : '';
				var titleKa = cat.title ? (cat.title.ka || '') : '';
				var titleRu = cat.title ? (cat.title.ru || '') : '';
				var displayTitle = titleTr || titleEn || titleKa || titleRu || 'ƒ∞simsiz Kategori';
				if (titleEn && titleTr !== titleEn) {
					displayTitle = titleTr + (titleEn ? ' / ' + titleEn : '');
				}
				var catId = cat.id || cat.slug;
				$menu.append('<button type="button" class="category-item" data-value="' + escapeHtml(catId) + '">' + escapeHtml(displayTitle) + '</button>');
			});
			
			// Se√ßili deƒüeri g√ºncelle
			var currentValue = $hiddenInput.val();
			if (currentValue) {
				var $selectedItem = $menu.find('.category-item[data-value="' + escapeHtml(currentValue) + '"]');
				if ($selectedItem.length) {
					$selectedItem.addClass('active');
					$trigger.find('.category-dropdown-label').text($selectedItem.text());
				}
			} else {
				$trigger.find('.category-dropdown-label').text('Se√ßiniz...');
			}
		}
		
		// Alt kategori dropdown'ƒ±nƒ± g√ºncelle
		function updateSubCategoryDropdown() {
			var mainCategoryId = $('#mainCategorySelect').val();
			var $menu = $('#subCategoryMenu');
			var $trigger = $('#subCategoryTrigger');
			var $hiddenInput = $('#subCategorySelect');
			
			$menu.empty();
			
			if (!mainCategoryId) {
				$menu.append('<button type="button" class="category-item" data-value="">Se√ßiniz...</button>');
				$trigger.find('.category-dropdown-label').text('Se√ßiniz...');
				$hiddenInput.val('');
				return;
			}
			
			if (!categoriesData || !categoriesData.subCategories) {
				$menu.append('<button type="button" class="category-item" data-value="">‚ö†Ô∏è Alt kategori bulunamadƒ±</button>');
				return;
			}
			
			// "Se√ßiniz..." se√ßeneƒüi
			$menu.append('<button type="button" class="category-item" data-value="">Se√ßiniz...</button>');
			
			var hasSubCategories = false;
			categoriesData.subCategories.forEach(function(subCat) {
				if (subCat.mainCategoryId === mainCategoryId) {
					hasSubCategories = true;
					var titleTr = subCat.title ? (subCat.title.tr || '') : '';
					var titleEn = subCat.title ? (subCat.title.en || '') : '';
					var titleKa = subCat.title ? (subCat.title.ka || '') : '';
					var titleRu = subCat.title ? (subCat.title.ru || '') : '';
					var displayTitle = titleTr || titleEn || titleKa || titleRu || 'ƒ∞simsiz Alt Kategori';
					if (titleEn && titleTr !== titleEn) {
						displayTitle = titleTr + (titleEn ? ' / ' + titleEn : '');
					}
					$menu.append('<button type="button" class="category-item" data-value="' + escapeHtml(subCat.id) + '">' + escapeHtml(displayTitle) + '</button>');
				}
			});
			
			if (!hasSubCategories) {
				$menu.empty();
				$menu.append('<button type="button" class="category-item" data-value="">‚ÑπÔ∏è Bu kategoride alt kategori yok</button>');
			}
			
			// Se√ßili deƒüeri g√ºncelle
			var currentValue = $hiddenInput.val();
			if (currentValue) {
				var $selectedItem = $menu.find('.category-item[data-value="' + escapeHtml(currentValue) + '"]');
				if ($selectedItem.length) {
					$selectedItem.addClass('active');
					$trigger.find('.category-dropdown-label').text($selectedItem.text());
				} else {
					$trigger.find('.category-dropdown-label').text('Se√ßiniz...');
					$hiddenInput.val('');
				}
			} else {
				$trigger.find('.category-dropdown-label').text('Se√ßiniz...');
			}
		}
		
		// √úr√ºnleri y√ºkle
		function loadProducts() {
			// √ñnce backend'den y√ºkle (API)
			$.ajax({
				url: '/api/products',
				method: 'GET',
				success: function(response) {
					if (response && response.products && response.products.length > 0) {
						// Backend'den gelen veriyi kullan
						console.log('loadProducts: Backend\'den', response.products.length, '√ºr√ºn y√ºklendi');
						allProductsData = response.products.slice(); // Copy for filtering
						productsData = allProductsData.slice(); // Ba≈ülangƒ±√ßta t√ºm √ºr√ºnleri g√∂ster
						window.productsData = productsData;
						
						// √ñnce setupEventListeners √ßaƒüƒ±r (checkbox event handler'larƒ± i√ßin)
						setupEventListeners();
						
						// Sonra populateMainCategories ve populateSubCategories √ßaƒüƒ±r
						populateMainCategories();
						populateSubCategories(true); // skipFilter=true, √ß√ºnk√º filterProducts a≈üaƒüƒ±da √ßaƒürƒ±lacak
						
						// Son olarak filterProducts √ßaƒüƒ±r (renderProducts i√ßin)
						filterProducts();
						return;
					}
					
					// Backend'den veri yoksa, data-products.js'den y√ºkle
					if (typeof window.productsData !== 'undefined' && window.productsData.length > 0) {
						console.log('loadProducts: window.productsData\'dan', window.productsData.length, '√ºr√ºn y√ºklendi');
						allProductsData = window.productsData.slice(); // Copy for filtering
						productsData = allProductsData.slice(); // Ba≈ülangƒ±√ßta t√ºm √ºr√ºnleri g√∂ster
						
						// √ñnce setupEventListeners √ßaƒüƒ±r (checkbox event handler'larƒ± i√ßin)
						setupEventListeners();
						
						// Sonra populateMainCategories ve populateSubCategories √ßaƒüƒ±r
						populateMainCategories();
						populateSubCategories(true); // skipFilter=true, √ß√ºnk√º filterProducts a≈üaƒüƒ±da √ßaƒürƒ±lacak
						
						// Son olarak filterProducts √ßaƒüƒ±r (renderProducts i√ßin)
						filterProducts();
						return;
					}
					
					// Backend'den veri yoksa bo≈ü g√∂ster
					console.log('loadProducts: Backend\'den veri gelmedi');
					$('#productsList').html('<p style="color: rgba(255, 255, 255, 0.7); text-align: center; padding: 40px;">Hen√ºz √ºr√ºn eklenmemi≈ü.</p>');
					populateMainCategories();
					setupEventListeners();
				},
				error: function(xhr, status, error) {
					console.error('loadProducts: API hatasƒ±', status, error);
					// API hatasƒ± durumunda hata mesajƒ± g√∂ster
					$('#productsList').html('<p style="color: #ef4444; text-align: center; padding: 40px;">‚ö†Ô∏è √úr√ºnler y√ºklenemedi. Sunucu √ßalƒ±≈ümƒ±yor olabilir.</p>');
					populateMainCategories();
					setupEventListeners();
				}
			});
		}
		
		// Mobil g√∂r√ºn√ºm kontrol√º
		function checkMobileView() {
			if ($(window).width() <= 768) {
				$('#mobileSidebarToggle').css('display', 'block');
			} else {
				$('#mobileSidebarToggle').css('display', 'none');
				$('#productSidebar').removeClass('mobile-open');
			}
		}
		
		// Event listener'larƒ± kur
		function setupEventListeners() {
			// Mobil sidebar toggle
			$('#mobileSidebarToggle').off('click').on('click', function() {
				$('#productSidebar').addClass('mobile-open');
			});
			
			$('#sidebarToggle').off('click').on('click', function(e) {
				e.preventDefault();
				e.stopPropagation();
				$('#productSidebar').removeClass('mobile-open');
			});
			
			// Sidebar dƒ±≈üƒ±na tƒ±klandƒ±ƒüƒ±nda kapat (mobil)
			$(document).off('click', '.product-main-content').on('click', '.product-main-content', function(e) {
				if ($(window).width() <= 768 && $('#productSidebar').hasClass('mobile-open')) {
					if (!$(e.target).closest('#productSidebar').length && !$(e.target).closest('#mobileSidebarToggle').length) {
						$('#productSidebar').removeClass('mobile-open');
					}
				}
			});
			
			// Ana kategori t√ºm√ºn√º se√ß/temizle
			$('#selectAllMain').off('click').on('click', function() {
				selectedMainCategories = [];
				$('#mainCategoryFilters input[type="checkbox"]').each(function() {
					$(this).prop('checked', true);
					selectedMainCategories.push($(this).val());
				});
				populateSubCategories();
				filterProducts();
			});
			
			$('#deselectAllMain').off('click').on('click', function() {
				$('#mainCategoryFilters input[type="checkbox"]').prop('checked', false);
				selectedMainCategories = [];
				populateSubCategories();
				filterProducts();
			});
			
			// Alt kategori t√ºm√ºn√º se√ß/temizle
			$('#selectAllSub').off('click').on('click', function() {
				selectedSubCategories = [];
				$('#subCategoryFilters input[type="checkbox"]').each(function() {
					$(this).prop('checked', true);
					selectedSubCategories.push($(this).val());
				});
				filterProducts();
			});
			
			$('#deselectAllSub').off('click').on('click', function() {
				$('#subCategoryFilters input[type="checkbox"]').prop('checked', false);
				selectedSubCategories = [];
				filterProducts();
			});
			
			// Filtreleri temizle
			$('#resetFilters').off('click').on('click', function() {
				$('#mainCategoryFilters input[type="checkbox"]').prop('checked', false);
				$('#subCategoryFilters input[type="checkbox"]').prop('checked', false);
				selectedMainCategories = [];
				selectedSubCategories = [];
				populateSubCategories();
				filterProducts();
			});
			
			// Ana kategori checkbox deƒüi≈üiklikleri
			$(document).off('change', '#mainCategoryFilters input[type="checkbox"]').on('change', '#mainCategoryFilters input[type="checkbox"]', function() {
				var category = $(this).val();
				if ($(this).is(':checked')) {
					if (selectedMainCategories.indexOf(category) === -1) {
						selectedMainCategories.push(category);
					}
				} else {
					selectedMainCategories = selectedMainCategories.filter(c => c !== category);
				}
				populateSubCategories();
				filterProducts();
			});
			
			// Alt kategori checkbox deƒüi≈üiklikleri
			$(document).off('change', '#subCategoryFilters input[type="checkbox"]').on('change', '#subCategoryFilters input[type="checkbox"]', function() {
				var category = $(this).val();
				if ($(this).is(':checked')) {
					if (selectedSubCategories.indexOf(category) === -1) {
						selectedSubCategories.push(category);
					}
				} else {
					selectedSubCategories = selectedSubCategories.filter(c => c !== category);
				}
				filterProducts();
			});
			
			// Filter checkbox item click (container'ƒ±n her yerine tƒ±klandƒ±ƒüƒ±nda)
			$(document).off('click', '.filter-checkbox-item').on('click', '.filter-checkbox-item', function(e) {
				// Eƒüer tƒ±klama direkt input √ºzerindeyse, hi√ßbir ≈üey yapma
				if ($(e.target).is('input[type="checkbox"]')) {
					return;
				}
				
				// Container'ƒ±n herhangi bir yerine (label, checkmark, bo≈ü alan) tƒ±klandƒ±ƒüƒ±nda checkbox'ƒ± toggle et
				var $checkbox = $(this).find('input[type="checkbox"]');
				if ($checkbox.length === 0) return;
				
				// Checkbox'ƒ± toggle et
				$checkbox.prop('checked', !$checkbox.prop('checked')).trigger('change');
			});
		}
		
		// Ana kategorileri doldur
		function populateMainCategories() {
			var mainCategories = new Set();
			
			if (allProductsData && allProductsData.length > 0) {
				allProductsData.forEach(function(product) {
					if (product.mainCategory) {
						var mainCat = '';
						if (typeof product.mainCategory === 'object') {
							mainCat = product.mainCategory.tr || product.mainCategory.en || product.mainCategory.ka || product.mainCategory.ru || '';
						} else if (typeof product.mainCategory === 'string') {
							mainCat = product.mainCategory;
						}
						if (mainCat && mainCat.trim()) {
							mainCategories.add(mainCat.trim());
						}
					}
				});
			}
			
			var html = '';
			if (mainCategories.size === 0) {
				html = '<p style="color: rgba(255, 255, 255, 0.7); text-align: center; padding: 20px;">Kategori bulunamadƒ±</p>';
			} else {
				var sortedMainCategories = Array.from(mainCategories).sort();
				sortedMainCategories.forEach(function(cat) {
					var catId = 'main_' + escapeHtml(cat).replace(/[^a-zA-Z0-9]/g, '_');
					html += '<div class="filter-checkbox-item">';
					html += '<input type="checkbox" id="' + catId + '" value="' + escapeHtml(cat) + '">';
					html += '<label class="checkbox-custom"><span class="checkmark"></span></label>';
					html += '<label>' + escapeHtml(cat) + '</label>';
					html += '</div>';
				});
			}
			
			$('#mainCategoryFilters').html(html);
			
			// Se√ßili kategorileri geri y√ºkle
			selectedMainCategories.forEach(function(cat) {
				$('#mainCategoryFilters input[value="' + escapeHtml(cat) + '"]').prop('checked', true);
			});
		}
		
		// Alt kategorileri doldur
		function populateSubCategories(skipFilter) {
			if (selectedMainCategories.length === 0) {
				$('#subCategoryFilters').html('<p style="color: rgba(255, 255, 255, 0.7); text-align: center; padding: 20px;">Ana kategori se√ßin</p>');
				selectedSubCategories = []; // Alt kategorileri temizle
				if (!skipFilter && allProductsData && allProductsData.length > 0) {
					// Eƒüer skipFilter false ise ve allProductsData varsa, filterProducts √ßaƒüƒ±r
					filterProducts();
				}
				return;
			}
			
			var subCats = {};
			if (allProductsData && allProductsData.length > 0) {
				allProductsData.forEach(function(product) {
					if (!product.mainCategory) return;
					
					var mainCat = '';
					if (typeof product.mainCategory === 'object') {
						mainCat = product.mainCategory.tr || product.mainCategory.en || product.mainCategory.ka || product.mainCategory.ru || '';
					} else if (typeof product.mainCategory === 'string') {
						mainCat = product.mainCategory;
					}
					mainCat = mainCat ? mainCat.trim() : '';
					
					if (mainCat && selectedMainCategories.indexOf(mainCat) !== -1) {
						if (product.category) {
							var subCat = '';
							if (typeof product.category === 'object') {
								subCat = product.category.tr || product.category.en || product.category.ka || product.category.ru || '';
							} else if (typeof product.category === 'string') {
								subCat = product.category;
							}
							subCat = subCat ? subCat.trim() : '';
							if (subCat && !subCats[subCat]) {
								subCats[subCat] = true;
							}
						}
					}
				});
			}
			
			var html = '';
			if (Object.keys(subCats).length === 0) {
				html = '<p style="color: rgba(255, 255, 255, 0.7); text-align: center; padding: 20px;">Alt kategori bulunamadƒ±</p>';
			} else {
				Object.keys(subCats).sort().forEach(function(cat) {
					var catId = 'sub_' + escapeHtml(cat).replace(/[^a-zA-Z0-9]/g, '_');
					html += '<div class="filter-checkbox-item">';
					html += '<input type="checkbox" id="' + catId + '" value="' + escapeHtml(cat) + '">';
					html += '<label class="checkbox-custom"><span class="checkmark"></span></label>';
					html += '<label>' + escapeHtml(cat) + '</label>';
					html += '</div>';
				});
			}
			
			$('#subCategoryFilters').html(html);
			
			// Se√ßili alt kategorileri filtrele - sadece yeni listede olanlarƒ± koru
			var validSubCategories = [];
			selectedSubCategories.forEach(function(cat) {
				if ($('#subCategoryFilters input[value="' + escapeHtml(cat) + '"]').length > 0) {
					$('#subCategoryFilters input[value="' + escapeHtml(cat) + '"]').prop('checked', true);
					validSubCategories.push(cat);
				}
			});
			selectedSubCategories = validSubCategories; // Ge√ßerli olanlarƒ± g√ºncelle
		}
		
		// √úr√ºnleri filtrele
		function filterProducts() {
			var searchTerm = $('#searchInput').val().toLowerCase().trim();
			
			// Eƒüer allProductsData bo≈üsa, renderProducts √ßaƒüƒ±rma
			if (!allProductsData || allProductsData.length === 0) {
				console.log('filterProducts: allProductsData bo≈ü');
				return;
			}
			
			// Filtre yoksa, t√ºm √ºr√ºnleri g√∂ster
			if (selectedMainCategories.length === 0 && selectedSubCategories.length === 0 && !searchTerm) {
				productsData = allProductsData.slice();
				console.log('filterProducts: Filtre yok, t√ºm √ºr√ºnler g√∂steriliyor. Toplam:', productsData.length);
				renderProducts();
				return;
			}
			
			// Filtrele
			productsData = allProductsData.filter(function(product) {
				// Ana kategori kontrol√º
				if (selectedMainCategories.length > 0) {
					var mainCat = '';
					if (product.mainCategory) {
						if (typeof product.mainCategory === 'object') {
							mainCat = product.mainCategory.tr || product.mainCategory.en || product.mainCategory.ka || product.mainCategory.ru || '';
						} else if (typeof product.mainCategory === 'string') {
							mainCat = product.mainCategory;
						}
						mainCat = mainCat ? mainCat.trim() : '';
					}
					
					if (!mainCat || selectedMainCategories.indexOf(mainCat) === -1) {
						return false;
					}
				}
				
				// Alt kategori kontrol√º
				if (selectedSubCategories.length > 0) {
					var subCat = '';
					if (product.category) {
						if (typeof product.category === 'object') {
							subCat = product.category.tr || product.category.en || product.category.ka || product.category.ru || '';
						} else if (typeof product.category === 'string') {
							subCat = product.category;
						}
						subCat = subCat ? subCat.trim() : '';
					}
					
					if (!subCat || selectedSubCategories.indexOf(subCat) === -1) {
						return false;
					}
				}
				
				// Arama filtresi (sadece isim ve SKU)
				if (searchTerm) {
					var title = (product.title.tr || product.title.en || product.title.ka || product.title.ru || '').toLowerCase();
					var sku = (product.sku || '').toLowerCase();
					
					if (title.indexOf(searchTerm) === -1 && 
					    sku.indexOf(searchTerm) === -1) {
						return false;
					}
				}
				
				return true;
			});
			
			console.log('filterProducts: Filtrelenmi≈ü √ºr√ºn sayƒ±sƒ±:', productsData.length, 'Toplam:', allProductsData.length);
			renderProducts();
		}
		
		// √úr√ºnleri listele
		function renderProducts() {
			var $list = $('#productsList');
			
			console.log('renderProducts: productsData.length =', productsData ? productsData.length : 0);
			console.log('renderProducts: allProductsData.length =', allProductsData ? allProductsData.length : 0);
			
			// Eƒüer productsData tanƒ±mlƒ± deƒüilse veya bo≈üsa, allProductsData'dan doldur
			if (!productsData || productsData.length === 0) {
				if (allProductsData && allProductsData.length > 0) {
					console.log('renderProducts: productsData bo≈ü ama allProductsData var, kopyalanƒ±yor');
					productsData = allProductsData.slice();
				} else {
					console.log('renderProducts: Hem productsData hem allProductsData bo≈ü');
					$list.html('<p style="color: rgba(255, 255, 255, 0.7); text-align: center; padding: 40px;">Hen√ºz √ºr√ºn eklenmemi≈ü.</p>');
					return;
				}
			}
			
			console.log('renderProducts: Render ediliyor, √ºr√ºn sayƒ±sƒ±:', productsData.length);
			
			var html = '';
			productsData.forEach(function(product, index) {
				var title = product.title.tr || product.title.en || product.title.ka || product.title.ru || '√úr√ºn';
				var category = product.category ? (product.category.tr || product.category.en || product.category.ka || product.category.ru || '') : '';
				var mainCategory = product.mainCategory ? (product.mainCategory.tr || product.mainCategory.en || product.mainCategory.ka || product.mainCategory.ru || '') : '';
				var stock = product.stock || 0;
				var sku = product.sku || '';
				
				// Ana kategori ve alt kategori kontrol√º
				var hasMainCategory = mainCategory && mainCategory.trim();
				var hasValidCategory = false;
				var categoryWarning = '';
				
				if (!hasMainCategory) {
					categoryWarning = 'Ana kategorisi yok - ekleyin';
				} else if (category && category.trim()) {
					// Alt kategorinin ge√ßerli olup olmadƒ±ƒüƒ±nƒ± kontrol et
					if (categoriesData && categoriesData.subCategories) {
						var mainCategoryId = null;
						// Ana kategoriyi bul
						if (categoriesData.mainCategories) {
							var foundMainCat = categoriesData.mainCategories.find(function(cat) {
								var catTr = cat.title ? (cat.title.tr || '') : '';
								var catEn = cat.title ? (cat.title.en || '') : '';
								var catKa = cat.title ? (cat.title.ka || '') : '';
								var catRu = cat.title ? (cat.title.ru || '') : '';
								return (catTr === mainCategory || catEn === mainCategory || catKa === mainCategory || catRu === mainCategory);
							});
							if (foundMainCat) {
								mainCategoryId = foundMainCat.id || foundMainCat.slug;
								
								// Alt kategoriyi mainCategories'deki subCategories'den kontrol et
								if (foundMainCat.subCategories && Array.isArray(foundMainCat.subCategories)) {
									var foundSubCat = foundMainCat.subCategories.find(function(subCat) {
										var subTr = subCat.title ? (subCat.title.tr || '') : '';
										var subEn = subCat.title ? (subCat.title.en || '') : '';
										var subKa = subCat.title ? (subCat.title.ka || '') : '';
										var subRu = subCat.title ? (subCat.title.ru || '') : '';
										return (subTr === category || subEn === category || subKa === category || subRu === category);
									});
									hasValidCategory = !!foundSubCat;
								} else {
									// Eski y√∂ntem: categoriesData.subCategories'den kontrol et
									var foundSubCat = categoriesData.subCategories.find(function(subCat) {
										if (subCat.mainCategoryId !== mainCategoryId && subCat.mainCategorySlug !== foundMainCat.slug) return false;
										var subTr = subCat.title ? (subCat.title.tr || '') : '';
										var subEn = subCat.title ? (subCat.title.en || '') : '';
										var subKa = subCat.title ? (subCat.title.ka || '') : '';
										var subRu = subCat.title ? (subCat.title.ru || '') : '';
										return (subTr === category || subEn === category || subKa === category || subRu === category);
									});
									hasValidCategory = !!foundSubCat;
								}
								
								if (!hasValidCategory) {
									categoryWarning = 'Alt kategorisi silinmi≈ü - ekleyin';
								}
							} else {
								categoryWarning = 'Ana kategorisi ge√ßersiz - ekleyin';
							}
						} else {
							categoryWarning = 'Ana kategorisi ge√ßersiz - ekleyin';
						}
					}
				} else {
					categoryWarning = 'Alt kategorisi yok - ekleyin';
				}
				
				// √úr√ºn kartƒ± stilini belirle (kategori sorunu varsa farklƒ± tonda)
				var itemStyle = '';
				if (!hasMainCategory || categoryWarning) {
					itemStyle = 'background: #fff3cd; border-left: 4px solid #ffc107; opacity: 0.9;';
				}
				
				html += '<div class="product-item" style="' + itemStyle + '">';
				html += '<div class="product-info" style="flex: 1;">';
				html += '<h3>' + escapeHtml(title) + '</h3>';
				
				if (categoryWarning) {
					html += '<p style="margin: 8px 0; padding: 8px 12px; background: #fff3cd; border: 1px solid #ffc107; border-radius: 6px; color: #856404; font-size: 13px; font-weight: 600;">';
					html += '‚ö†Ô∏è <strong>' + escapeHtml(categoryWarning) + '</strong>';
					html += '</p>';
				}
				
				if (hasMainCategory) {
					if (hasValidCategory || !category || !category.trim()) {
						html += '<p><strong>Kategori:</strong> ' + escapeHtml(mainCategory) + (category && category.trim() ? ' > ' + escapeHtml(category) : '') + '</p>';
					} else {
						html += '<p><strong>Kategori:</strong> <span style="color: #ef4444;">' + escapeHtml(mainCategory) + ' > ' + escapeHtml(category || 'Kategori silinmi≈ü') + ' (Silinmi≈ü)</span></p>';
					}
				} else {
					html += '<p><strong>Kategori:</strong> <span style="color: #ef4444;">Kategori yok</span></p>';
				}
				
				html += '<p><strong>SKU:</strong> ' + escapeHtml(sku) + ' | <strong>Stok:</strong> ' + stock + '</p>';
				html += '</div>';
				html += '<div class="product-actions">';
				html += '<button class="btn-edit" onclick="editProduct(' + index + ')">‚úèÔ∏è D√ºzenle</button>';
				html += '<button class="btn-delete" onclick="deleteProduct(' + index + ')">üóëÔ∏è Sil</button>';
				html += '</div>';
				html += '</div>';
			});
			
			$list.html(html);
		}
		
		// Modal a√ßma/kapama
		function openAddProductModal() {
			$('#productIndex').val('-1');
			$('#productModalTitle').text('Yeni √úr√ºn Ekle');
			$('#productForm')[0].reset();
			productImages = [];
			renderProductImages([]);
			$('#productImageFile').val('');
			$('#imageUrlInput').val('');
			$('#mainCategorySelect').val('');
			$('#subCategorySelect').val('');
			$('#mainCategoryTrigger .category-dropdown-label').text('Se√ßiniz...');
			$('#subCategoryTrigger .category-dropdown-label').text('Se√ßiniz...');
			populateMainCategoryDropdown();
			updateSubCategoryDropdown();
			$('#productModal').css('display', 'flex');
			switchLang('tr');
		}
		
		function closeProductModal() {
			$('#productModal').hide();
			productImages = [];
			renderProductImages([]);
			$('#productImageFile').val('');
			$('#imageUrlInput').val('');
		}
		
		// √úr√ºn resimleri render et
		function renderProductImages(images) {
			var $container = $('#productImagesContainer');
			$container.empty();
			
			if (!images || images.length === 0) {
				return;
			}
			
			images.forEach(function(imageUrl, index) {
				var imageHtml = '<div class="product-image-item" style="display: flex; align-items: center; gap: 10px; padding: 10px; background: #f9fafb; border: 2px solid #e5e7eb; border-radius: 8px; margin-bottom: 10px;">';
				imageHtml += '<img src="' + escapeHtml(imageUrl) + '" style="width: 80px; height: 80px; object-fit: cover; border-radius: 6px; border: 2px solid #e5e7eb;">';
				imageHtml += '<div style="flex: 1; min-width: 0;">';
				imageHtml += '<div style="font-size: 12px; color: #6b7280; margin-bottom: 5px;">Sƒ±ra: ' + (index + 1) + '</div>';
				imageHtml += '<input type="text" class="product-image-url" value="' + escapeHtml(imageUrl) + '" data-index="' + index + '" style="width: 100%; padding: 8px; border: 1px solid #e5e7eb; border-radius: 4px; font-size: 13px; font-family: monospace;">';
				imageHtml += '</div>';
				imageHtml += '<div style="display: flex; flex-direction: column; gap: 5px;">';
				if (index > 0) {
					imageHtml += '<button type="button" class="btn-admin" onclick="moveProductImage(' + index + ', -1)" style="padding: 6px 12px; font-size: 12px; white-space: nowrap;">‚¨ÜÔ∏è Yukarƒ±</button>';
				}
				if (index < images.length - 1) {
					imageHtml += '<button type="button" class="btn-admin" onclick="moveProductImage(' + index + ', 1)" style="padding: 6px 12px; font-size: 12px; white-space: nowrap;">‚¨áÔ∏è A≈üaƒüƒ±</button>';
				}
				imageHtml += '<button type="button" class="btn-admin btn-admin-secondary" onclick="removeProductImage(' + index + ')" style="padding: 6px 12px; font-size: 12px; white-space: nowrap;">üóëÔ∏è Sil</button>';
				imageHtml += '</div>';
				imageHtml += '</div>';
				$container.append(imageHtml);
			});
			
			// URL deƒüi≈üikliklerini dinle
			$container.find('.product-image-url').on('input', function() {
				var index = parseInt($(this).data('index'));
				if (productImages && productImages[index] !== undefined) {
					productImages[index] = $(this).val().trim();
				}
			});
		}
		
		var productImages = []; // Modal i√ßinde ge√ßici resim array'i
		var allProductsData = []; // T√ºm √ºr√ºnler (filtrelenmemi≈ü)
		
		// √úr√ºn resimlerini y√ºkle
		function uploadProductImages() {
			var fileInput = document.getElementById('productImageFile');
			var files = fileInput.files;
			if (!files || files.length === 0) return;
			
			// Session kontrol√º kaldƒ±rƒ±ldƒ± - backend zaten kontrol ediyor
			
			// Y√ºkleme butonunu bul (ID ile)
			var btn = document.getElementById('uploadImageBtn');
			if (!btn) {
				// Alternatif: onclick attribute'unda productImageFile ge√ßen butonu bul
				btn = fileInput.parentElement.querySelector('button[onclick*="productImageFile"]');
			}
			
			if (!btn) {
				return;
			}
			
			var isMobile = window.innerWidth <= 768;
			var defaultText = isMobile ? 'üìÅ Telefondan Y√ºkle' : 'üìÅ Bilgisayardan Y√ºkle';
			var originalText = btn.innerHTML || defaultText;
			btn.innerHTML = '‚è≥ Y√ºkleniyor...';
			btn.disabled = true;
			
			var uploadPromises = [];
			for (var i = 0; i < files.length; i++) {
				var formData = new FormData();
				formData.append('image', files[i]);
				
				var promise = $.ajax({
					url: '/api/upload-image',
					method: 'POST',
					headers: {
						'X-Admin-Password': adminPassword
					},
					data: formData,
					processData: false,
					contentType: false
				});
				uploadPromises.push(promise);
			}
			
			$.when.apply($, uploadPromises).done(function() {
				var responses = arguments.length === 1 ? [arguments[0]] : Array.prototype.slice.call(arguments);
				responses.forEach(function(response) {
					if (response.success && response.url) {
						if (!productImages) productImages = [];
						productImages.push(response.url);
					}
				});
				renderProductImages(productImages);
				btn.innerHTML = originalText;
				btn.disabled = false;
				fileInput.value = '';
			}).fail(function() {
				showAlert('error', 'Resimler y√ºklenirken hata olu≈ütu!');
				btn.innerHTML = originalText;
				btn.disabled = false;
			});
		}
		
		// URL'den resim ekle
		function addProductImageUrl() {
			var url = $('#imageUrlInput').val().trim();
			if (!url) return;
			
			if (!productImages) productImages = [];
			productImages.push(url);
			renderProductImages(productImages);
			$('#imageUrlInput').val('');
		}
		
		// √úr√ºn resmini sil
		function removeProductImage(index) {
			if (!productImages || index < 0 || index >= productImages.length) return;
			productImages.splice(index, 1);
			renderProductImages(productImages);
		}
		
		// √úr√ºn resmini ta≈üƒ±
		function moveProductImage(index, direction) {
			if (!productImages || index < 0 || index >= productImages.length) return;
			var newIndex = index + direction;
			if (newIndex < 0 || newIndex >= productImages.length) return;
			
			var temp = productImages[index];
			productImages[index] = productImages[newIndex];
			productImages[newIndex] = temp;
			renderProductImages(productImages);
		}
		
		// Modern Popup Modal Fonksiyonlarƒ±
		var popupResolve = null;
		
		// Alert popup (sadece OK butonu)
		function showAlert(type, message) {
			return new Promise(function(resolve) {
				var $modal = $('#popupModal');
				var $icon = $('#popupIcon');
				var $title = $('#popupTitle');
				var $message = $('#popupMessage');
				var $footer = $('#popupFooter');
				
				var icon = '‚Ñπ';
				var title = 'Bilgi';
				
				switch(type) {
					case 'success':
						icon = '‚úì';
						title = 'Ba≈üarƒ±lƒ±';
						break;
					case 'error':
						icon = '‚úï';
						title = 'Hata';
						break;
					case 'warning':
						icon = '‚ö†';
						title = 'Uyarƒ±';
						break;
				}
				
				$icon.text(icon);
				$title.text(title);
				$message.html((message || '').replace(/\n/g, '<br>'));
				$footer.html('<button class="popup-btn popup-btn-primary" onclick="closePopup()">Tamam</button>');
				
				popupResolve = resolve;
				$modal.addClass('show');
				
				$(document).off('keydown.popup').on('keydown.popup', function(e) {
					if (e.key === 'Enter' || e.key === 'Escape') {
						closePopup();
					}
				});
			});
		}
		
		// Confirm popup
		function showConfirm(message, title) {
			if (!title) title = 'Onay';
			
			return new Promise(function(resolve) {
				var $modal = $('#popupModal');
				var $icon = $('#popupIcon');
				var $titleEl = $('#popupTitle');
				var $message = $('#popupMessage');
				var $footer = $('#popupFooter');
				
				$icon.text('‚ùì');
				$titleEl.text(title);
				$message.html((message || '').replace(/\n/g, '<br>'));
				$footer.html(
					'<button class="popup-btn popup-btn-secondary" onclick="closePopup(false)">ƒ∞ptal</button>' +
					'<button class="popup-btn popup-btn-primary" onclick="closePopup(true)">Tamam</button>'
				);
				
				popupResolve = resolve;
				$modal.addClass('show');
				
				$(document).off('keydown.popup').on('keydown.popup', function(e) {
					if (e.key === 'Enter') {
						closePopup(true);
					} else if (e.key === 'Escape') {
						closePopup(false);
					}
				});
			});
		}
		
		// Popup'ƒ± kapat
		function closePopup(result) {
			var $modal = $('#popupModal');
			$modal.removeClass('show');
			$(document).off('keydown.popup');
			
			if (popupResolve) {
				popupResolve(result !== false);
				popupResolve = null;
			}
		}
		
		// Overlay'e tƒ±klayƒ±nca kapatma
		$(document).on('click', '.popup-modal-overlay', function(e) {
			if (e.target === this) {
				closePopup(false);
			}
		});
		
		// HTML escape
		function escapeHtml(text) {
			if (!text) return '';
			var map = {
				'&': '&amp;',
				'<': '&lt;',
				'>': '&gt;',
				'"': '&quot;',
				"'": '&#039;'
			};
			return text.replace(/[&<>"']/g, function(m) { return map[m]; });
		}
		
		// Dil deƒüi≈ütirme
		function switchLang(lang) {
			$('.lang-tab').removeClass('active');
			$('.lang-content').removeClass('active');
			
			// Find the correct tab by lang parameter
			$('.lang-tab').each(function() {
				var btnLang = $(this).attr('onclick');
				if (btnLang && btnLang.indexOf("'" + lang + "'") !== -1) {
					$(this).addClass('active');
				}
			});
			
			$('#lang-' + lang).addClass('active');
		}
		
		// √úr√ºn√º d√ºzenle
		function editProduct(index) {
			if (index < 0 || index >= productsData.length) return;
			
			var product = productsData[index];
			
			// allProductsData'daki ger√ßek index'i bul (filtrelenmi≈ü liste deƒüil, t√ºm liste)
			var realIndex = -1;
			if (product.sku) {
				// SKU ile bul
				for (var i = 0; i < allProductsData.length; i++) {
					if (allProductsData[i].sku === product.sku) {
						realIndex = i;
						break;
					}
				}
			}
			// SKU yoksa veya bulunamazsa, √ºr√ºn referansƒ± ile bul
			if (realIndex === -1) {
				for (var i = 0; i < allProductsData.length; i++) {
					if (allProductsData[i] === product) {
						realIndex = i;
						break;
					}
				}
			}
			// Hala bulunamazsa, title ve description ile bul
			if (realIndex === -1) {
				var productTitle = product.title ? (product.title.tr || product.title.en || product.title.ka || product.title.ru || '') : '';
				for (var i = 0; i < allProductsData.length; i++) {
					var allTitle = allProductsData[i].title ? (allProductsData[i].title.tr || allProductsData[i].title.en || allProductsData[i].title.ka || allProductsData[i].title.ru || '') : '';
					if (allTitle === productTitle && productTitle !== '') {
						realIndex = i;
						break;
					}
				}
			}
			
			// Ger√ßek index'i sakla (eƒüer bulunamazsa filtrelenmi≈ü index'i kullan)
			$('#productIndex').val(realIndex !== -1 ? realIndex : index);
			$('#productModalTitle').text('√úr√ºn√º D√ºzenle');
			
			// Form alanlarƒ±nƒ± doldur
			$('#titleTr').val(product.title ? product.title.tr || '' : '');
			$('#titleEn').val(product.title ? product.title.en || '' : '');
			$('#titleKa').val(product.title ? product.title.ka || '' : '');
			$('#titleRu').val(product.title ? product.title.ru || '' : '');
			$('#descriptionTr').val(product.description ? product.description.tr || '' : '');
			$('#descriptionEn').val(product.description ? product.description.en || '' : '');
			$('#descriptionKa').val(product.description ? product.description.ka || '' : '');
			$('#descriptionRu').val(product.description ? product.description.ru || '' : '');
			
			// Resimleri y√ºkle (images array'i varsa onu kullan, yoksa image'i kullan)
			if (product.images && Array.isArray(product.images) && product.images.length > 0) {
				productImages = product.images.slice(); // Copy
			} else if (product.image) {
				productImages = [product.image];
			} else {
				productImages = [];
			}
			renderProductImages(productImages);
			
			$('#sku').val(product.sku || '');
			$('#stock').val(product.stock || 0);
			
			// Kategorileri y√ºkle
			populateMainCategoryDropdown();
			
			// Ana kategoriyi se√ß
			if (product.mainCategory) {
				var mainCatTitleTr = product.mainCategory.tr || '';
				var mainCatTitleEn = product.mainCategory.en || '';
				var mainCatId = null;
				
				// Ana kategoriyi bul
				if (categoriesData && categoriesData.mainCategories) {
					var foundMainCat = categoriesData.mainCategories.find(function(cat) {
						var catTr = cat.title ? cat.title.tr || '' : '';
						var catEn = cat.title ? cat.title.en || '' : '';
						return (catTr === mainCatTitleTr || catEn === mainCatTitleEn);
					});
					if (foundMainCat) {
						mainCatId = foundMainCat.id || foundMainCat.slug;
					}
				}
				
				if (mainCatId) {
					$('#mainCategorySelect').val(mainCatId);
					updateSubCategoryDropdown();
					
					// Ana kategori trigger label'ƒ±nƒ± g√ºncelle
					var $mainMenu = $('#mainCategoryMenu');
					var $mainTrigger = $('#mainCategoryTrigger');
					var $mainItem = $mainMenu.find('.category-item[data-value="' + escapeHtml(mainCatId) + '"]');
					if ($mainItem.length) {
						$mainMenu.find('.category-item').removeClass('active');
						$mainItem.addClass('active');
						$mainTrigger.find('.category-dropdown-label').text($mainItem.text());
					}
					
					// Alt kategoriyi se√ß
					if (product.category) {
						var subCatTitleTr = product.category.tr || '';
						var subCatTitleEn = product.category.en || '';
						var subCatId = null;
						
						if (categoriesData && categoriesData.subCategories) {
							var foundSubCat = categoriesData.subCategories.find(function(subCat) {
								if (subCat.mainCategoryId !== mainCatId) return false;
								var subTr = subCat.title ? subCat.title.tr || '' : '';
								var subEn = subCat.title ? subCat.title.en || '' : '';
								return (subTr === subCatTitleTr || subEn === subCatTitleEn);
							});
							if (foundSubCat) {
								subCatId = foundSubCat.id;
							}
						}
						
						if (subCatId) {
							$('#subCategorySelect').val(subCatId);
							// Alt kategori trigger label'ƒ±nƒ± g√ºncelle
							var $subMenu = $('#subCategoryMenu');
							var $subTrigger = $('#subCategoryTrigger');
							var $subItem = $subMenu.find('.category-item[data-value="' + escapeHtml(subCatId) + '"]');
							if ($subItem.length) {
								$subMenu.find('.category-item').removeClass('active');
								$subItem.addClass('active');
								$subTrigger.find('.category-dropdown-label').text($subItem.text());
							}
						}
					}
				}
			}
			
			$('#productModal').css('display', 'flex');
			switchLang('tr');
		}
		
		// √úr√ºn√º kaydet
		function saveProduct() {
			var index = parseInt($('#productIndex').val());
			
			// Resimleri g√ºncelle (modal i√ßindeki productImages array'inden)
			var images = productImages && productImages.length > 0 ? productImages.slice() : [];
			
			// Kategori bilgilerini al
			var mainCategoryId = $('#mainCategorySelect').val();
			var subCategoryId = $('#subCategorySelect').val();
			var mainCategory = { tr: '', en: '' };
			var category = { tr: '', en: '' };
			
			if (mainCategoryId && categoriesData && categoriesData.mainCategories) {
				var selectedMainCat = categoriesData.mainCategories.find(function(cat) {
					return (cat.id === mainCategoryId || cat.slug === mainCategoryId);
				});
				if (selectedMainCat && selectedMainCat.title) {
					mainCategory = {
						tr: selectedMainCat.title.tr || '',
						en: selectedMainCat.title.en || ''
					};
				}
			}
			
			if (subCategoryId && categoriesData && categoriesData.subCategories) {
				var selectedSubCat = categoriesData.subCategories.find(function(subCat) {
					return subCat.id === subCategoryId;
				});
				if (selectedSubCat && selectedSubCat.title) {
					category = {
						tr: selectedSubCat.title.tr || '',
						en: selectedSubCat.title.en || ''
					};
				}
			}
			
			var product = {
				title: {
					tr: $('#titleTr').val(),
					en: $('#titleEn').val(),
					ka: $('#titleKa').val(),
					ru: $('#titleRu').val()
				},
				description: {
					tr: $('#descriptionTr').val(),
					en: $('#descriptionEn').val(),
					ka: $('#descriptionKa').val(),
					ru: $('#descriptionRu').val()
				},
				images: images, // Resim array'i
				image: images.length > 0 ? images[0] : '', // ƒ∞lk resim ana g√∂rsel (geriye uyumluluk i√ßin)
				sku: $('#sku').val(),
				stock: parseInt($('#stock').val()) || 0,
				mainCategory: mainCategory,
				category: category
			};
			
			if (!product.title.tr && !product.title.en && !product.title.ka && !product.title.ru) {
				showAlert('warning', 'L√ºtfen en az bir dilde √ºr√ºn adƒ± girin!');
				return;
			}
			
			// √ñNEMLƒ∞: allProductsData'yƒ± g√ºncelle (filtrelenmi≈ü productsData deƒüil)
			if (index === -1) {
				// Yeni √ºr√ºn ekle - hem allProductsData'ya hem de productsData'ya ekle
				allProductsData.push(product);
				productsData.push(product);
			} else {
				// Mevcut √ºr√ºn√º g√ºncelle - allProductsData'daki ger√ßek index'i kullan
				if (index >= 0 && index < allProductsData.length) {
					allProductsData[index] = product;
					// productsData'daki index'i de bul ve g√ºncelle
					var filteredIndex = -1;
					for (var i = 0; i < productsData.length; i++) {
						if (productsData[i] === allProductsData[index] || 
						    (productsData[i].sku && productsData[i].sku === product.sku) ||
						    (productsData[i].sku === allProductsData[index].sku && allProductsData[index].sku)) {
							filteredIndex = i;
							break;
						}
					}
					if (filteredIndex !== -1) {
						productsData[filteredIndex] = product;
					}
				} else {
					// Index ge√ßersizse, allProductsData'ya ekle
					allProductsData.push(product);
					productsData.push(product);
				}
			}
			
			// allProductsData'yƒ± kaydet (t√ºm √ºr√ºnler)
			// Backend'e kaydedildi, localStorage'a kaydetme gerek yok
			populateMainCategories();
			// Filtrelemeyi yeniden uygula
			filterProducts();
			closeProductModal();
			
			// Backend'e kaydet
			saveToServer();
		}
		
		// Sunucuya kaydet
		function saveToServer() {
			// √ñnce session kontrol√º yap
			$.ajax({
				url: '/api/admin/check-session',
				method: 'GET',
				timeout: 5000, // 5 saniye timeout
				success: function(sessionResponse) {
					if (!sessionResponse.authenticated) {
						showAlert('warning', 'Oturum s√ºresi doldu. √úr√ºnler yerel olarak kaydedildi. Sunucuya kaydetmek i√ßin l√ºtfen tekrar giri≈ü yapƒ±n ve "Sunucuya Kaydet" butonuna tƒ±klayƒ±n.');
						// Login ekranƒ±nƒ± g√∂sterme, sadece uyarƒ± ver
						// $('#pageContent').hide();
						// $('#loginScreen').show();
						return;
					}
					
					// Session var, kaydetme i≈ülemini yap
					performSave();
				},
				error: function(xhr, status, error) {
					// Network hatasƒ± veya timeout durumunda
					if (status === 'timeout' || status === 'error') {
						showAlert('warning', 'Sunucuya baƒülanƒ±lamadƒ±. √úr√ºnler yerel olarak kaydedildi. Daha sonra "Sunucuya Kaydet" butonuna tƒ±klayarak kaydedebilirsiniz.');
					} else {
						showAlert('warning', 'Oturum kontrol√º yapƒ±lamadƒ±. √úr√ºnler yerel olarak kaydedildi. Sunucuya kaydetmek i√ßin l√ºtfen tekrar giri≈ü yapƒ±n.');
					}
					// Login ekranƒ±nƒ± g√∂sterme, sadece uyarƒ± ver
					// $('#pageContent').hide();
					// $('#loginScreen').show();
				}
			});
			
			function performSave() {
				// mainCategories'ƒ± y√ºkle
				var mainCategories = [];
				if (typeof window.mainCategories !== 'undefined') {
					mainCategories = window.mainCategories;
				} else {
					// localStorage kullanƒ±mƒ± kaldƒ±rƒ±ldƒ± - backend'den y√ºkleniyor
					// mainCategories bo≈ü kalacak, backend'den gelmeli
					console.warn('‚ö†Ô∏è mainCategories backend\'den y√ºklenmemi≈ü');
				}
				
				// Carousel verilerini de al (varsa) - backend'den y√ºkleniyor
				var carousel = null;
				// Carousel verileri backend'den /api/products endpoint'inden geliyor
				// Burada carousel verilerini backend'den almak i√ßin ek bir istek gerekebilir
				// Ancak normalde saveProducts √ßaƒürƒ±ldƒ±ƒüƒ±nda carousel verileri de backend'e kaydediliyor
				// ≈ûimdilik carousel null olarak g√∂nderiliyor, gerekirse carousel.html'den kaydedilecek
				
				$.ajax({
					url: '/api/products/save',
					method: 'POST',
					contentType: 'application/json',
					data: JSON.stringify({
						products: allProductsData, // T√ºm √ºr√ºnleri kaydet (filtrelenmi≈ü deƒüil)
						mainCategories: mainCategories,
						carousel: carousel
					}),
					success: function(response) {
						showAlert('success', '√úr√ºnler ba≈üarƒ±yla sunucuya kaydedildi!');
					},
					error: function(xhr) {
						if (xhr.status === 401) {
							showAlert('warning', 'Oturum s√ºresi doldu. √úr√ºnler yerel olarak kaydedildi. Sunucuya kaydetmek i√ßin l√ºtfen tekrar giri≈ü yapƒ±n ve "Sunucuya Kaydet" butonuna tƒ±klayƒ±n.');
							// Login ekranƒ±nƒ± g√∂sterme, sadece uyarƒ± ver
							// $('#pageContent').hide();
							// $('#loginScreen').show();
						} else {
							showAlert('warning', '√úr√ºnler sunucuya kaydedilemedi. √úr√ºnler yerel olarak kaydedildi. Daha sonra "Sunucuya Kaydet" butonuna tƒ±klayarak tekrar deneyebilirsiniz.');
						}
					}
				});
			}
		}
		
		// √úr√ºn√º sil
		function deleteProduct(index) {
			if (index < 0 || index >= productsData.length) return;
			
			var product = productsData[index];
			
			// allProductsData'daki ger√ßek index'i bul
			var realIndex = -1;
			if (product.sku) {
				// SKU ile bul
				for (var i = 0; i < allProductsData.length; i++) {
					if (allProductsData[i].sku === product.sku) {
						realIndex = i;
						break;
					}
				}
			}
			// SKU yoksa veya bulunamazsa, √ºr√ºn referansƒ± ile bul
			if (realIndex === -1) {
				for (var i = 0; i < allProductsData.length; i++) {
					if (allProductsData[i] === product) {
						realIndex = i;
						break;
					}
				}
			}
			
			// allProductsData'dan sil
			if (realIndex !== -1 && realIndex < allProductsData.length) {
				allProductsData.splice(realIndex, 1);
			}
			
			// productsData'dan da sil (filtrelenmi≈ü liste)
			productsData.splice(index, 1);
			
			// allProductsData'yƒ± kaydet (t√ºm √ºr√ºnler)
			// Backend'e kaydedildi, localStorage'a kaydetme gerek yok
			populateMainCategories();
			// Filtrelemeyi yeniden uygula
			filterProducts();
		}
		
		// Global fonksiyonlar
		window.editProduct = editProduct;
		window.deleteProduct = deleteProduct;
		window.openAddProductModal = openAddProductModal;
		window.closeProductModal = closeProductModal;
		window.saveProduct = saveProduct;
		window.saveToServer = saveToServer;
		window.switchLang = switchLang;
		window.uploadProductImages = uploadProductImages;
		window.addProductImageUrl = addProductImageUrl;
		window.removeProductImage = removeProductImage;
		window.moveProductImage = moveProductImage;
		window.updateSubCategoryDropdown = updateSubCategoryDropdown;
		
		// Category dropdown event handlers
		$(document).on('click', '.category-dropdown-trigger', function(e) {
			e.stopPropagation();
			var $menu = $(this).siblings('.category-dropdown-menu');
			var isOpen = $menu.hasClass('open');
			$('.category-dropdown-menu').removeClass('open open-up');
			if (!isOpen) {
				$menu.addClass('open');
				
				// Ekranƒ±n altƒ±nda kalƒ±p kalmadƒ±ƒüƒ±nƒ± kontrol et
				setTimeout(function() {
					var menuRect = $menu[0].getBoundingClientRect();
					var viewportHeight = window.innerHeight || document.documentElement.clientHeight;
					var spaceBelow = viewportHeight - menuRect.bottom;
					var spaceAbove = menuRect.top;
					
					// Eƒüer a≈üaƒüƒ±da yeterli alan yoksa ve yukarƒ±da daha fazla alan varsa, yukarƒ± doƒüru a√ß
					if (spaceBelow < 50 && spaceAbove > spaceBelow) {
						$menu.addClass('open-up');
					} else {
						$menu.removeClass('open-up');
					}
				}, 10);
			}
		});
		
		$(document).on('click', function(e) {
			if (!$(e.target).closest('.category-dropdown').length) {
				$('.category-dropdown-menu').removeClass('open open-up');
			}
		});
		
		// Category item se√ßimi
		$(document).on('click', '.category-dropdown-menu .category-item', function(e) {
			e.stopPropagation();
			var $item = $(this);
			var value = $item.data('value');
			var $dropdown = $item.closest('.category-dropdown');
			var $trigger = $dropdown.find('.category-dropdown-trigger');
			var $hiddenInput = $dropdown.find('input[type="hidden"]');
			var $menu = $dropdown.find('.category-dropdown-menu');
			
			// T√ºm item'lardan active class'ƒ±nƒ± kaldƒ±r
			$menu.find('.category-item').removeClass('active');
			
			// Se√ßili item'a active class'ƒ± ekle
			$item.addClass('active');
			
			// Hidden input'a deƒüeri yaz
			$hiddenInput.val(value || '');
			
			// Trigger label'ƒ±nƒ± g√ºncelle
			$trigger.find('.category-dropdown-label').text($item.text());
			
			// Menu'yu kapat
			$menu.removeClass('open open-up');
			
			// Ana kategori se√ßildiyse alt kategori dropdown'ƒ±nƒ± g√ºncelle
			if ($hiddenInput.attr('id') === 'mainCategorySelect') {
				updateSubCategoryDropdown();
			}
		});
		window.closePopup = closePopup;
		
		// HTML escape
		function escapeHtml(text) {
			if (!text) return '';
			var map = {
				'&': '&amp;',
				'<': '&lt;',
				'>': '&gt;',
				'"': '&quot;',
				"'": '&#039;'
			};
			return text.toString().replace(/[&<>"']/g, function(m) { return map[m]; });
		}
		
		// Sayfa y√ºklendiƒüinde - ≈üifre kontrol√ºnden sonra √ßalƒ±≈üacak
		function initProductsPage() {
			loadCategories();
			loadProducts();
			checkMobileView();
			setupEventListeners();
			
			$(window).resize(function() {
				checkMobileView();
			});
		}
	</script>
	
	<script>
		// BACKEND SESSION KULLANIYOR - localStorage/sessionStorage yok
		var MAX_LOGIN_ATTEMPTS = 5;
		var LOGIN_ATTEMPTS_KEY = 'adminLoginAttempts';
		var LOCKOUT_TIME_KEY = 'adminLockoutUntil';
		var LOCKOUT_DURATION = 15 * 60 * 1000;

		function checkLogin() {
			checkLockout();
			
			// Backend'e session kontrol√º i√ßin istek at
			$.ajax({
				url: '/api/admin/check-session',
				method: 'GET',
				success: function(response) {
					if (response.authenticated) {
						// Session var - i√ßeriƒüi g√∂ster
						$('#loginScreen').hide();
						$('#pageContent').show();
						if (typeof initProductsPage === 'function') {
							initProductsPage();
						}
					} else {
						// Session yok veya s√ºresi dolmu≈ü
						if (response.expired) {
							showAlert('warning', 'Oturum s√ºresi doldu. L√ºtfen tekrar giri≈ü yapƒ±n.');
						}
						$('#loginScreen').show();
						$('#pageContent').hide();
					}
				},
				error: function() {
					// Hata durumunda login ekranƒ±nƒ± g√∂ster
					$('#loginScreen').show();
					$('#pageContent').hide();
				}
			});
		}

		function checkLockout() {
			var lockoutUntil = localStorage.getItem(LOCKOUT_TIME_KEY);
			if (lockoutUntil) {
				var now = Date.now();
				var unlockTime = parseInt(lockoutUntil);
				
				if (now < unlockTime) {
					var remainingMinutes = Math.ceil((unlockTime - now) / (60 * 1000));
					$('#loginError').html('‚õî √áok fazla yanlƒ±≈ü deneme!<br>L√ºtfen ' + remainingMinutes + ' dakika sonra tekrar deneyin.').fadeIn(300);
					$('#adminPassword').prop('disabled', true);
					$('button[onclick="checkPassword()"]').prop('disabled', true);
					return true;
				} else {
					localStorage.removeItem(LOCKOUT_TIME_KEY);
					localStorage.removeItem(LOGIN_ATTEMPTS_KEY);
					$('#adminPassword').prop('disabled', false);
					$('button[onclick="checkPassword()"]').prop('disabled', false);
				}
			}
			return false;
		}
		
		function checkPassword() {
			if (checkLockout()) return;
			
			var password = $('#adminPassword').val();
			
			if (!password) {
				$('#loginError').text('‚ö†Ô∏è ≈ûifre gerekli!').fadeIn(300);
				return;
			}
			
			$.ajax({
				url: '/api/admin/check-password',
				method: 'POST',
				contentType: 'application/json',
				data: JSON.stringify({ password: password }),
				success: function(response) {
					if (response.success) {
						localStorage.removeItem(LOGIN_ATTEMPTS_KEY);
						localStorage.removeItem(LOCKOUT_TIME_KEY);
						
						// Backend session olu≈üturuldu - frontend'de bir ≈üey yapmaya gerek yok
					
					// Overlay'i gizle
					$('#pageTransition').removeClass('show').addClass('hide');
					
					$('#loginScreen').fadeOut(300);
					$('#pageContent').fadeIn(300);
					$('#loginError').hide();
					$('#adminPassword').val('');
					$('#adminPassword').prop('disabled', false);
					$('button[onclick="checkPassword()"]').prop('disabled', false);
					initProductsPage();
					}
				},
				error: function(xhr) {
					var attempts = parseInt(localStorage.getItem(LOGIN_ATTEMPTS_KEY) || '0');
					attempts++;
					localStorage.setItem(LOGIN_ATTEMPTS_KEY, attempts.toString());
					
					var remainingAttempts = MAX_LOGIN_ATTEMPTS - attempts;
					
					if (attempts >= MAX_LOGIN_ATTEMPTS) {
						var lockoutUntil = Date.now() + LOCKOUT_DURATION;
						localStorage.setItem(LOCKOUT_TIME_KEY, lockoutUntil.toString());
						
						$('#loginError').html('‚õî √áok fazla yanlƒ±≈ü deneme!<br>Hesap 15 dakika s√ºreyle kilitlendi.').fadeIn(300);
						$('#adminPassword').prop('disabled', true);
						$('button[onclick="checkPassword()"]').prop('disabled', true);
						
						setTimeout(function() {
							localStorage.removeItem(LOCKOUT_TIME_KEY);
							localStorage.removeItem(LOGIN_ATTEMPTS_KEY);
							$('#loginError').hide();
							$('#adminPassword').prop('disabled', false);
							$('button[onclick="checkPassword()"]').prop('disabled', false);
							$('#adminPassword').val('').focus();
						}, LOCKOUT_DURATION);
					} else {
						var errorMsg = '‚ùå Yanlƒ±≈ü ≈üifre!';
						if (xhr.responseJSON && xhr.responseJSON.error) {
							errorMsg = '‚ùå ' + xhr.responseJSON.error;
						}
						errorMsg += '<br>Kalan deneme hakkƒ±: ' + remainingAttempts;
						$('#loginError').html(errorMsg).fadeIn(300);
					}
					
					$('#adminPassword').val('').focus();
				}
			});
		}

		$(document).on('keypress', '#adminPassword', function(e) {
			if (e.which === 13) {
				checkPassword();
			}
		});
		
		setInterval(function() {
			var lockoutUntil = localStorage.getItem(LOCKOUT_TIME_KEY);
			if (lockoutUntil) {
				var now = Date.now();
				var unlockTime = parseInt(lockoutUntil);
				
				if (now < unlockTime) {
					var remainingMinutes = Math.ceil((unlockTime - now) / (60 * 1000));
					$('#loginError').html('‚õî √áok fazla yanlƒ±≈ü deneme!<br>L√ºtfen ' + remainingMinutes + ' dakika sonra tekrar deneyin.');
				} else {
					localStorage.removeItem(LOCKOUT_TIME_KEY);
					localStorage.removeItem(LOGIN_ATTEMPTS_KEY);
					$('#loginError').hide();
					$('#adminPassword').prop('disabled', false);
					$('button[onclick="checkPassword()"]').prop('disabled', false);
				}
			}
			
			// Backend'den session kontrol√º
			$.ajax({
				url: '/api/admin/check-session',
				method: 'GET',
				success: function(response) {
					if (!response.authenticated) {
						if (response.expired) {
							showAlert('warning', 'Oturum s√ºresi doldu. L√ºtfen tekrar giri≈ü yapƒ±n.');
						}
						$('#pageContent').fadeOut(300);
						$('#loginScreen').fadeIn(300);
					}
				},
				error: function() {
					// Hata durumunda bir ≈üey yapma
				}
			});
		}, 60000);

		// Buton metnini ekran boyutuna g√∂re g√ºncelle
		function updateUploadButtonText() {
			var isMobile = window.innerWidth <= 768;
			var buttonText = isMobile ? 'üìÅ Telefondan Y√ºkle' : 'üìÅ Bilgisayardan Y√ºkle';
			
			$('#uploadImageBtn').text(buttonText);
		}
		
		$(document).ready(function() {
			checkLogin();
			
			// Buton metnini g√ºncelle
			updateUploadButtonText();
			$(window).on('resize', updateUploadButtonText);
			
			// Backend session kontrol√º yapƒ±ldƒ±ktan sonra overlay'i ayarla
			// checkLogin() fonksiyonu zaten √ßaƒürƒ±lƒ±yor, burada sadece overlay'i ayarla
					$('#pageTransition').removeClass('show').addClass('hide');
			
			// Admin Paneli linkine animasyonlu ge√ßi≈ü ekle
			$('a[href="admin.html"]').on('click', function(e) {
				e.preventDefault();
				$('#pageTransition').removeClass('hide').addClass('show');
				setTimeout(function() {
					window.location.href = 'admin.html';
				}, 300);
			});
		});
	</script>
	
	<!-- Ge√ßi≈ü Overlay -->
	<div class="page-transition-overlay" id="pageTransition">
		<div class="spinner"></div>
	</div>
	</div>
</body>
</html>

